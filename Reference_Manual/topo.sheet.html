<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>topo.sheet Package &mdash; Topographica</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/custom.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/require.js"></script>
    <link rel="shortcut icon" href="../_static/topo-favicon.ico"/>
    <link rel="top" title="Topographica" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">Home</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="../User_Manual/index.html">User Manual</a></li>







      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="topo-sheet-package">
<h1>topo.sheet Package<a class="headerlink" href="#topo-sheet-package" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<div class="section" id="sheet-package">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">sheet</span></tt> Package<a class="headerlink" href="#sheet-package" title="Permalink to this headline">¶</a></h2>
<p class="graphviz">
<img src="../_images/inheritance-dc06499240f551be3aaad0bae0dd45ec2718f128.png" alt="Inheritance diagram of topo.sheet" usemap="#inheritancee08cba1177" class="inheritance"/>
<map id="inheritancee08cba1177" name="inheritancee08cba1177">
<area shape="rect" id="node1" title="Provides methods to allow conversion between sheet and matrix" alt="" coords="162,28,347,41"/>
<area shape="rect" id="node6" href="topo.base.html#topo.base.sheet.Sheet" title="The generic base class for neural sheets." alt="" coords="372,41,459,54"/>
<area shape="rect" id="node2" title="params(name=String)" alt="" coords="3,53,136,66"/>
<area shape="rect" id="node7" href="topo.base.html#topo.base.simulation.EventProcessor" title="Base class for EventProcessors, i.e. objects that can accept and" alt="" coords="187,53,321,66"/>
<area shape="rect" id="node3" href="topo.base.html#topo.base.cf.CFSheet" title="A ProjectionSheet providing access to the ConnectionFields in its CFProjections." alt="" coords="689,16,771,29"/>
<area shape="rect" id="node9" href="#topo.sheet.JointNormalizingCFSheet" title="A type of CFSheet extended to support joint sum&#45;based normalization." alt="" coords="823,16,953,29"/>
<area shape="rect" id="node4" href="topo.base.html#topo.base.projection.ProjectionSheet" title="A Sheet whose activity is computed using Projections from other sheets." alt="" coords="493,16,627,29"/>
<area shape="rect" id="node5" href="topo.base.html#topo.base.generatorsheet.GeneratorSheet" title="Sheet for generating a series of 2D patterns." alt="" coords="484,41,637,54"/>
<area shape="rect" id="node11" href="#topo.sheet.SequenceGeneratorSheet" title="Sheet that generates a timed sequence of patterns." alt="" coords="662,41,798,54"/>
<area shape="rect" id="node8" href="#topo.sheet.ActivityCopy" title="Copies incoming Activity patterns to its activity matrix and output port." alt="" coords="515,66,605,80"/>
<area shape="rect" id="node10" href="#topo.sheet.JointNormalizingCFSheet_Continuous" title="CFSheet that runs continuously, with no &#39;resting&#39; periods between pattern presentations." alt="" coords="978,2,1149,16"/>
<area shape="rect" id="node12" href="#topo.sheet.SettlingCFSheet" title="A JointNormalizingCFSheet implementing the idea of settling." alt="" coords="1012,28,1115,41"/>
</map>
</p>
<span class="target" id="module-topo.sheet"></span><p>Sheet classes.</p>
<p>A Sheet is a two-dimensional arrangement of processing units,
typically modeling a neural region or a subset of cells in a neural
region.  Any new Sheet classes added to this directory will
automatically become available for any model.</p>
<dl class="class">
<dt id="topo.sheet.Sheet">
<em class="property">class </em><tt class="descclassname">topo.sheet.</tt><tt class="descname">Sheet</tt><big>(</big><em>**params</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.simulation.EventProcessor" title="topo.base.simulation.EventProcessor"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.simulation.EventProcessor</span></tt></a>, <a class="reference external" href="http://ioam.github.io/holoviews/Reference_Manual/holoviews.core.html#holoviews.core.sheetcoords.SheetCoordinateSystem" title="(in HoloViews v2014.05.14)"><tt class="xref py py-class docutils literal"><span class="pre">holoviews.core.sheetcoords.SheetCoordinateSystem</span></tt></a></p>
<p>The generic base class for neural sheets.</p>
<p>See SheetCoordinateSystem for how Sheet represents space, and
EventProcessor for how Sheet handles time.</p>
<p>output_fns are functions that take an activity matrix and produce
an identically shaped output matrix. The default is having no
output_fns.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.1, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.Sheet.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses will need to override this method to whatever it
means to calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.Sheet.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.Sheet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.Sheet.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e68e8&gt;</em><a class="headerlink" href="#topo.sheet.Sheet.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.Sheet.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6050&gt;</em><a class="headerlink" href="#topo.sheet.Sheet.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.input_event">
<tt class="descname">input_event</tt><big>(</big><em>conn</em>, <em>data</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.input_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation when an EPConnectionEvent is delivered;
the EventProcessor should process the data somehow.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.Sheet.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6aa0&gt;</em><a class="headerlink" href="#topo.sheet.Sheet.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a lower bound for the memory taken by this sheet, in bytes.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus any other significant data owned (in some
sense) by this Sheet.  It will not usually include memory
taken by the Python dictionary or various &#8220;housekeeping&#8221;
attributes, which usually contribute only a small amount to
the memory requirements.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity of medium and long term internal state.</p>
<p>This function should be implemented by all subclasses so that
it preserves the ability of the Sheet to compute activity,
i.e. to operate over a short time scale, while preventing any
lasting changes to the state (if new_plasticity_state=False).</p>
<p>Any operation that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, simply saves a copy of the plastic flag to an
internal stack (so that it can be restored by
restore_plasticity_state()), and then sets plastic to
new_plasticity_state.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.Sheet.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.Sheet.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation before advancing the simulation
time.  Allows the event processor to do any computation that
requires that all events for this time have been delivered.
Computations performed in this method should not generate any
events with a zero time delay, or else causality could be
violated. (By default, does nothing.)</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.restore_plasticity_state">
<tt class="descname">restore_plasticity_state</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.restore_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores plasticity of medium and long term internal state after
a override_plasticity_state call.</p>
<p>This function should be implemented by all subclasses to
remove the effect of the most recent override_plasticity_state call,
i.e. to restore plasticity of any type that was overridden.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.Sheet.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.Sheet.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6c00&gt;</em><a class="headerlink" href="#topo.sheet.Sheet.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.Sheet.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6d60&gt;</em><a class="headerlink" href="#topo.sheet.Sheet.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation when the EventProcessor is added to
the simulation.</p>
<p>If an EventProcessor needs to have any code run when it is
added to the simulation, the code can be put into this method
in the subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the most recently saved state off the stack.</p>
<p>See state_push() for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current state of this sheet to an internal stack.</p>
<p>This method is used by operations that need to test the
response of the sheet without permanently altering its state,
e.g. for measuring maps or probing the current behavior
non-invasively.  By default, only the activity pattern of this
sheet is saved, but subclasses should add saving for any
additional state that they maintain, or strange bugs are
likely to occur.  The state can be restored using state_pop().</p>
<p>Note that Sheets that do learning need not save the
values of all connection weights, if any, because
plasticity can be turned off explicitly.  Thus this method
is intended only for shorter-term state.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.Sheet.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.Sheet.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.Sheet.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.Sheet.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.Sheet.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.Sheet.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.SettlingCFSheet">
<em class="property">class </em><tt class="descclassname">topo.sheet.</tt><tt class="descname">SettlingCFSheet</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet.html#SettlingCFSheet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.SettlingCFSheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#topo.sheet.JointNormalizingCFSheet" title="topo.sheet.JointNormalizingCFSheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.sheet.JointNormalizingCFSheet</span></tt></a></p>
<p>A JointNormalizingCFSheet implementing the idea of settling.</p>
<p>Breaks continuous time up into discrete iterations, each
consisting of a series of activations, up to a fixed number of
settling steps.  Settling is controlled by the tsettle parameter;
once that number of settling steps has been reached, an external
input is required before the sheet will activate again.</p>
<p>See the LISSOM algorithm (Sirosh and Miikkulainen, Biological
Cybernetics 71:66-78, 1994) for one example of its usage.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">continuous_learning</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to modify the weights after every settling step.
        If false, waits until settling is completed before doing learning.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.6, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param Integer</em> <tt class="docutils literal"><span class="pre">mask_init_time</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Determines when a new mask is initialized in each new iteration.

        The mask is reset whenever new input comes in.  Once the
        activation_count (see tsettle) reaches mask_init_time, the mask
        is initialized to reflect the current activity profile.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Parameter</em> <tt class="docutils literal"><span class="pre">mask</span></tt> (<em>allow_None=False, constant=False, default=&lt;SheetMask SheetMask00471&gt;, instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>SheetMask object for computing which units need to be computed further.
        The object should be an instance of SheetMask, and will
        compute which neurons will be considered active for the
        purposes of further processing.  The default mask effectively
        disables all masking, but subclasses can use this mask to
        implement optimizations, non-rectangular Sheet shapes,
        lesions, etc.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">measure_maps</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to include this Sheet when measuring various maps to create SheetViews.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">beginning_of_iteration</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>List of callables to be executed at the beginning of each iteration.</dd>
<dt><em>param Integer</em> <tt class="docutils literal"><span class="pre">tsettle</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=8, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Number of times to activate the SettlingCFSheet sheet for each external input event.

        A counter is incremented each time an input is received from any
        source, and once the counter reaches tsettle, the last activation
        step is skipped so that there will not be any further recurrent
        activation.  The next external (i.e., afferent or feedback)
        event will then start the counter over again.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">allow_skip_non_responding_units</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If true, then units that are inactive after the response
        function has been called can be skipped in subsequent
        processing. Whether or not the units will actually be skipped
        depends on the implementation of learning and learning output
        functions.</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">post_initialization_weights_output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If not empty, weights output_fns that will replace the
        existing ones after an initial normalization step.</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">end_of_iteration</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>List of callables to be executed at the end of each iteration.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Callable</em> <tt class="docutils literal"><span class="pre">joint_norm_fn</span></tt> (<em>allow_None=False, constant=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Function to use to compute the norm_total for each CF in each
        projection from a group to be normalized jointly.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
<dt><em>param Parameter</em> <tt class="docutils literal"><span class="pre">strict_tsettle</span></tt> (<em>allow_None=True, constant=False, default=None, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If non-None, delay sending output until activation_count reaches this value.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses may override this method to whatever it means to
calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SettlingCFSheet.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.SettlingCFSheet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SettlingCFSheet.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6b50&gt;</em><a class="headerlink" href="#topo.sheet.SettlingCFSheet.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SettlingCFSheet.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6c00&gt;</em><a class="headerlink" href="#topo.sheet.SettlingCFSheet.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SettlingCFSheet.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e60a8&gt;</em><a class="headerlink" href="#topo.sheet.SettlingCFSheet.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="topo.sheet.SettlingCFSheet.joint_norm_fn">
<em class="property">static </em><tt class="descname">joint_norm_fn</tt><big>(</big><em>projlist</em>, <em>active_units_mask=True</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.joint_norm_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute norm_total for each CF in each projection from a group to
be normalized jointly.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.learn">
<tt class="descname">learn</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.learn" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the learn() method on every Projection to the Sheet, and
call the output functions (jointly if necessary).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the memory bytes taken by this Sheet and its Projections.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus memory taken by all incoming Projections.
It will not usually include memory taken by the Python
dictionary or various &#8220;housekeeping&#8221; attributes, which usually
contribute only a small amount to the memory requirements.
Thus this value should be considered only a rough lower bound
from which memory requirements and memory usage patterns can
be estimated.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array
and the projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.n_conns">
<tt class="descname">n_conns</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.n_conns" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the total size of all incoming projections, in number of connections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity state of medium and long term
internal state.</p>
<p>This function should be implemented by all subclasses so that
when new_plasticity_state=False, it preserves the ability of
the ProjectionSheet to compute activity, i.e. to operate over
a short time scale, while preventing any lasting changes to
the state.</p>
<p>Any process that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, calls override_plasticity_state() on the
ProjectionSheet&#8217;s output_fns and all of its incoming
Projections, and also enables the &#8216;plastic&#8217; parameter for this
ProjectionSheet.  The old value of the plastic parameter is
saved to an internal stack to be restored by
restore_plasticity_state().</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.SettlingCFSheet.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.present_input">
<tt class="descname">present_input</tt><big>(</big><em>input_activity</em>, <em>conn</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.present_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide the given input_activity to each in_projection that has a dest_port
equal to the specified port, asking each one to compute its activity.</p>
<p>The sheet&#8217;s own activity is not calculated until activate()
is called.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.SettlingCFSheet.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/topo/sheet.html#SettlingCFSheet.process_current_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.SettlingCFSheet.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass the accumulated stimulation through self.output_fns and
send it out on the default output port.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.projections">
<tt class="descname">projections</tt><big>(</big><em>name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either a named input p, or a dictionary
{projection_name, projection} of all the in_connections for
this ProjectionSheet.</p>
<p>A minor convenience function for finding projections by name;
the sheet&#8217;s list of in_connections usually provides simpler
access to the Projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet.html#SettlingCFSheet.send_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.SettlingCFSheet.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.SettlingCFSheet.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SettlingCFSheet.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6e10&gt;</em><a class="headerlink" href="#topo.sheet.SettlingCFSheet.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SettlingCFSheet.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6d08&gt;</em><a class="headerlink" href="#topo.sheet.SettlingCFSheet.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.update_unit_view">
<tt class="descname">update_unit_view</tt><big>(</big><em>x</em>, <em>y</em>, <em>proj_name=''</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.update_unit_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the list of UnitView objects for a particular unit in this CFSheet.
(There is one UnitView for each Projection to this CFSheet).</p>
<p>Each UnitView is then added to the sheet_views of its source sheet.
It returns the list of all UnitViews for the given unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SettlingCFSheet.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.SettlingCFSheet.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SettlingCFSheet.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.SettlingCFSheet.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SettlingCFSheet.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.SettlingCFSheet.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.CFSheet">
<em class="property">class </em><tt class="descclassname">topo.sheet.</tt><tt class="descname">CFSheet</tt><big>(</big><em>**params</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.projection.ProjectionSheet" title="topo.base.projection.ProjectionSheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.projection.ProjectionSheet</span></tt></a></p>
<p>A ProjectionSheet providing access to the ConnectionFields in its CFProjections.</p>
<p>CFSheet is a Sheet built from units indexed by Sheet coordinates
(x,y).  Each unit can have one or more ConnectionFields on another
Sheet (via this sheet&#8217;s CFProjections).  Thus CFSheet is a more
concrete version of a ProjectionSheet; a ProjectionSheet does not
require that there be units or weights of any kind.  Unless you
need access to the underlying ConnectionFields for visualization
or analysis, CFSheet and ProjectionSheet are interchangeable.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Parameter</em> <tt class="docutils literal"><span class="pre">mask</span></tt> (<em>allow_None=False, constant=False, default=&lt;SheetMask SheetMask00471&gt;, instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>SheetMask object for computing which units need to be computed further.
        The object should be an instance of SheetMask, and will
        compute which neurons will be considered active for the
        purposes of further processing.  The default mask effectively
        disables all masking, but subclasses can use this mask to
        implement optimizations, non-rectangular Sheet shapes,
        lesions, etc.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">measure_maps</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to include this Sheet when measuring various maps to create SheetViews.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">allow_skip_non_responding_units</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If true, then units that are inactive after the response
        function has been called can be skipped in subsequent
        processing. Whether or not the units will actually be skipped
        depends on the implementation of learning and learning output
        functions.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.CFSheet.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses may override this method to whatever it means to
calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.CFSheet.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.CFSheet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.CFSheet.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6b50&gt;</em><a class="headerlink" href="#topo.sheet.CFSheet.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.CFSheet.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6e10&gt;</em><a class="headerlink" href="#topo.sheet.CFSheet.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.input_event">
<tt class="descname">input_event</tt><big>(</big><em>conn</em>, <em>data</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.input_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Accept input from some sheet.  Call .present_input() to
compute the stimulation from that sheet.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.CFSheet.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6788&gt;</em><a class="headerlink" href="#topo.sheet.CFSheet.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.learn">
<tt class="descname">learn</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.learn" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, call the learn() and apply_learn_output_fns()
methods on every Projection to this Sheet.</p>
<p>Any other type of learning can be implemented by overriding this method.
Called from self.process_current_time() _after_ activity has
been propagated.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the memory bytes taken by this Sheet and its Projections.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus memory taken by all incoming Projections.
It will not usually include memory taken by the Python
dictionary or various &#8220;housekeeping&#8221; attributes, which usually
contribute only a small amount to the memory requirements.
Thus this value should be considered only a rough lower bound
from which memory requirements and memory usage patterns can
be estimated.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array
and the projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.n_conns">
<tt class="descname">n_conns</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.n_conns" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the total size of all incoming projections, in number of connections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity state of medium and long term
internal state.</p>
<p>This function should be implemented by all subclasses so that
when new_plasticity_state=False, it preserves the ability of
the ProjectionSheet to compute activity, i.e. to operate over
a short time scale, while preventing any lasting changes to
the state.</p>
<p>Any process that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, calls override_plasticity_state() on the
ProjectionSheet&#8217;s output_fns and all of its incoming
Projections, and also enables the &#8216;plastic&#8217; parameter for this
ProjectionSheet.  The old value of the plastic parameter is
saved to an internal stack to be restored by
restore_plasticity_state().</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.CFSheet.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.present_input">
<tt class="descname">present_input</tt><big>(</big><em>input_activity</em>, <em>conn</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.present_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide the given input_activity to each in_projection that has a dest_port
equal to the specified port, asking each one to compute its activity.</p>
<p>The sheet&#8217;s own activity is not calculated until activate()
is called.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.CFSheet.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation after all the events are processed for the
current time but before time advances.  Allows the event processor
to send any events that must be sent before time advances to drive
the simulation.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.projections">
<tt class="descname">projections</tt><big>(</big><em>name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either a named input p, or a dictionary
{projection_name, projection} of all the in_connections for
this ProjectionSheet.</p>
<p>A minor convenience function for finding projections by name;
the sheet&#8217;s list of in_connections usually provides simpler
access to the Projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.CFSheet.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.CFSheet.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6db8&gt;</em><a class="headerlink" href="#topo.sheet.CFSheet.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.CFSheet.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6f18&gt;</em><a class="headerlink" href="#topo.sheet.CFSheet.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation when the EventProcessor is added to
the simulation.</p>
<p>If an EventProcessor needs to have any code run when it is
added to the simulation, the code can be put into this method
in the subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses Sheet state_pop to also pop projection activities.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses Sheet state_push to also push projection activities.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.update_unit_view">
<tt class="descname">update_unit_view</tt><big>(</big><em>x</em>, <em>y</em>, <em>proj_name=''</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.update_unit_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the list of UnitView objects for a particular unit in this CFSheet.
(There is one UnitView for each Projection to this CFSheet).</p>
<p>Each UnitView is then added to the sheet_views of its source sheet.
It returns the list of all UnitViews for the given unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.CFSheet.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.CFSheet.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.CFSheet.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.CFSheet.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.CFSheet.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.CFSheet.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.GeneratorSheet">
<em class="property">class </em><tt class="descclassname">topo.sheet.</tt><tt class="descname">GeneratorSheet</tt><big>(</big><em>**params</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.sheet.Sheet" title="topo.base.sheet.Sheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.sheet.Sheet</span></tt></a></p>
<p>Sheet for generating a series of 2D patterns.</p>
<p>Typically generates the patterns by choosing parameters from a
random distribution, but can use any mechanism.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param ClassSelector</em> <tt class="docutils literal"><span class="pre">input_generator</span></tt> (<em>allow_None=False, constant=False, default=&lt;Constant Constant00802&gt;, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Specifies a particular PatternGenerator type to use when creating patterns.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.1, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">period</span></tt> (<em>allow_None=False, bounds=(0, None), constant=True, default=1, inclusive_bounds=(False, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Delay (in Simulation time) between generating new input patterns.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">phase</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.05, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Delay after the start of the Simulation (at time zero) before
        generating an input pattern.  For a clocked, feedforward
        simulation, one would typically want to use a small nonzero
        phase and use delays less than the user-visible step size
        (typically 1.0), so that inputs are generated and processed
        before this step is complete.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.GeneratorSheet.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses will need to override this method to whatever it
means to calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.GeneratorSheet.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.GeneratorSheet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.GeneratorSheet.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6b50&gt;</em><a class="headerlink" href="#topo.sheet.GeneratorSheet.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.generate">
<tt class="descname">generate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the output and send it out the Activity port.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.GeneratorSheet.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6838&gt;</em><a class="headerlink" href="#topo.sheet.GeneratorSheet.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.GeneratorSheet.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6db8&gt;</em><a class="headerlink" href="#topo.sheet.GeneratorSheet.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a lower bound for the memory taken by this sheet, in bytes.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus any other significant data owned (in some
sense) by this Sheet.  It will not usually include memory
taken by the Python dictionary or various &#8220;housekeeping&#8221;
attributes, which usually contribute only a small amount to
the memory requirements.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity of medium and long term internal state.</p>
<p>This function should be implemented by all subclasses so that
it preserves the ability of the Sheet to compute activity,
i.e. to operate over a short time scale, while preventing any
lasting changes to the state (if new_plasticity_state=False).</p>
<p>Any operation that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, simply saves a copy of the plastic flag to an
internal stack (so that it can be restored by
restore_plasticity_state()), and then sets plastic to
new_plasticity_state.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.GeneratorSheet.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.pop_input_generator">
<tt class="descname">pop_input_generator</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.pop_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Discard the current input_generator, and retrieve the previous one from the stack.</p>
<p>Warns if no input_generator is available on the stack.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.GeneratorSheet.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation before advancing the simulation
time.  Allows the event processor to do any computation that
requires that all events for this time have been delivered.
Computations performed in this method should not generate any
events with a zero time delay, or else causality could be
violated. (By default, does nothing.)</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.push_input_generator">
<tt class="descname">push_input_generator</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.push_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Push the current input_generator onto a stack for future retrieval.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.restore_plasticity_state">
<tt class="descname">restore_plasticity_state</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.restore_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores plasticity of medium and long term internal state after
a override_plasticity_state call.</p>
<p>This function should be implemented by all subclasses to
remove the effect of the most recent override_plasticity_state call,
i.e. to restore plasticity of any type that was overridden.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.GeneratorSheet.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.GeneratorSheet.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6af8&gt;</em><a class="headerlink" href="#topo.sheet.GeneratorSheet.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.set_input_generator">
<tt class="descname">set_input_generator</tt><big>(</big><em>new_ig</em>, <em>push_existing=False</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.set_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the input_generator, overwriting the existing one by
default.</p>
<p>If push_existing is false, the existing input_generator is
discarded permanently.  Otherwise, the existing one is put
onto a stack, and can later be restored by calling
pop_input_generator.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.GeneratorSheet.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6fc8&gt;</em><a class="headerlink" href="#topo.sheet.GeneratorSheet.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the most recently saved state off the stack.</p>
<p>See state_push() for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current state of this sheet to an internal stack.</p>
<p>This method is used by operations that need to test the
response of the sheet without permanently altering its state,
e.g. for measuring maps or probing the current behavior
non-invasively.  By default, only the activity pattern of this
sheet is saved, but subclasses should add saving for any
additional state that they maintain, or strange bugs are
likely to occur.  The state can be restored using state_pop().</p>
<p>Note that Sheets that do learning need not save the
values of all connection weights, if any, because
plasticity can be turned off explicitly.  Thus this method
is intended only for shorter-term state.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.GeneratorSheet.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.GeneratorSheet.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.GeneratorSheet.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.GeneratorSheet.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.GeneratorSheet.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.GeneratorSheet.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.ProjectionSheet">
<em class="property">class </em><tt class="descclassname">topo.sheet.</tt><tt class="descname">ProjectionSheet</tt><big>(</big><em>**params</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.sheet.Sheet" title="topo.base.sheet.Sheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.sheet.Sheet</span></tt></a></p>
<p>A Sheet whose activity is computed using Projections from other sheets.</p>
<p>A standard ProjectionSheet expects its input to be generated from
other Sheets. Upon receiving an input event, the ProjectionSheet
interprets the event data to be (a copy of) an activity matrix
from another sheet.  The ProjectionSheet provides a copy of this
matrix to each Projection from that input Sheet, asking each one
to compute their own activity in response.  The same occurs for
any other pending input events.</p>
<p>After all events have been processed for a given time, the
ProjectionSheet computes its own activity matrix using its
activate() method, which by default sums all its Projections&#8217;
activity matrices and passes the result through user-specified
output_fns() before sending it out on the default output port.
The activate() method can be overridden to sum some of the
projections, multiply that by the sum of other projections, etc.,
to model modulatory or other more complicated types of connections.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.1, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Parameter</em> <tt class="docutils literal"><span class="pre">mask</span></tt> (<em>allow_None=False, constant=False, default=&lt;SheetMask SheetMask00471&gt;, instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>SheetMask object for computing which units need to be computed further.
        The object should be an instance of SheetMask, and will
        compute which neurons will be considered active for the
        purposes of further processing.  The default mask effectively
        disables all masking, but subclasses can use this mask to
        implement optimizations, non-rectangular Sheet shapes,
        lesions, etc.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">allow_skip_non_responding_units</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If true, then units that are inactive after the response
        function has been called can be skipped in subsequent
        processing. Whether or not the units will actually be skipped
        depends on the implementation of learning and learning output
        functions.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.ProjectionSheet.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses may override this method to whatever it means to
calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ProjectionSheet.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.ProjectionSheet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ProjectionSheet.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6af8&gt;</em><a class="headerlink" href="#topo.sheet.ProjectionSheet.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ProjectionSheet.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6c00&gt;</em><a class="headerlink" href="#topo.sheet.ProjectionSheet.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.input_event">
<tt class="descname">input_event</tt><big>(</big><em>conn</em>, <em>data</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.input_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Accept input from some sheet.  Call .present_input() to
compute the stimulation from that sheet.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ProjectionSheet.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6b50&gt;</em><a class="headerlink" href="#topo.sheet.ProjectionSheet.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.learn">
<tt class="descname">learn</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.learn" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, call the learn() and apply_learn_output_fns()
methods on every Projection to this Sheet.</p>
<p>Any other type of learning can be implemented by overriding this method.
Called from self.process_current_time() _after_ activity has
been propagated.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the memory bytes taken by this Sheet and its Projections.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus memory taken by all incoming Projections.
It will not usually include memory taken by the Python
dictionary or various &#8220;housekeeping&#8221; attributes, which usually
contribute only a small amount to the memory requirements.
Thus this value should be considered only a rough lower bound
from which memory requirements and memory usage patterns can
be estimated.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array
and the projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.n_conns">
<tt class="descname">n_conns</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.n_conns" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the total size of all incoming projections, in number of connections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity state of medium and long term
internal state.</p>
<p>This function should be implemented by all subclasses so that
when new_plasticity_state=False, it preserves the ability of
the ProjectionSheet to compute activity, i.e. to operate over
a short time scale, while preventing any lasting changes to
the state.</p>
<p>Any process that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, calls override_plasticity_state() on the
ProjectionSheet&#8217;s output_fns and all of its incoming
Projections, and also enables the &#8216;plastic&#8217; parameter for this
ProjectionSheet.  The old value of the plastic parameter is
saved to an internal stack to be restored by
restore_plasticity_state().</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ProjectionSheet.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.present_input">
<tt class="descname">present_input</tt><big>(</big><em>input_activity</em>, <em>conn</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.present_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide the given input_activity to each in_projection that has a dest_port
equal to the specified port, asking each one to compute its activity.</p>
<p>The sheet&#8217;s own activity is not calculated until activate()
is called.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ProjectionSheet.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation after all the events are processed for the
current time but before time advances.  Allows the event processor
to send any events that must be sent before time advances to drive
the simulation.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.projections">
<tt class="descname">projections</tt><big>(</big><em>name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either a named input p, or a dictionary
{projection_name, projection} of all the in_connections for
this ProjectionSheet.</p>
<p>A minor convenience function for finding projections by name;
the sheet&#8217;s list of in_connections usually provides simpler
access to the Projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ProjectionSheet.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ProjectionSheet.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6ec0&gt;</em><a class="headerlink" href="#topo.sheet.ProjectionSheet.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ProjectionSheet.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6e68&gt;</em><a class="headerlink" href="#topo.sheet.ProjectionSheet.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation when the EventProcessor is added to
the simulation.</p>
<p>If an EventProcessor needs to have any code run when it is
added to the simulation, the code can be put into this method
in the subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses Sheet state_pop to also pop projection activities.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses Sheet state_push to also push projection activities.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ProjectionSheet.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ProjectionSheet.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ProjectionSheet.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.ProjectionSheet.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ProjectionSheet.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.ProjectionSheet.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.SequenceGeneratorSheet">
<em class="property">class </em><tt class="descclassname">topo.sheet.</tt><tt class="descname">SequenceGeneratorSheet</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet.html#SequenceGeneratorSheet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.generatorsheet.GeneratorSheet" title="topo.base.generatorsheet.GeneratorSheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.generatorsheet.GeneratorSheet</span></tt></a></p>
<p>Sheet that generates a timed sequence of patterns.</p>
<p>This sheet will repeatedly generate the input_sequence, with the
given onsets.  The sequence is repeated every self.period time
units.  If the total length of the sequence is longer than
self.period, a warning is issued and the sequence repeats
immediately after completion.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param ClassSelector</em> <tt class="docutils literal"><span class="pre">input_generator</span></tt> (<em>allow_None=False, constant=False, default=&lt;Constant Constant00802&gt;, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Specifies a particular PatternGenerator type to use when creating patterns.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.1, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">period</span></tt> (<em>allow_None=False, bounds=(0, None), constant=True, default=1, inclusive_bounds=(False, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Delay (in Simulation time) between generating new input patterns.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">phase</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.05, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Delay after the start of the Simulation (at time zero) before
        generating an input pattern.  For a clocked, feedforward
        simulation, one would typically want to use a small nonzero
        phase and use delays less than the user-visible step size
        (typically 1.0), so that inputs are generated and processed
        before this step is complete.</dd>
<dt><em>param List</em> <tt class="docutils literal"><span class="pre">input_sequence</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>The sequence of patterns to generate.  Must be a list of
          (onset,generator) tuples. An empty list defaults to the
          single tuple: (0,self.input_generator), resulting in
          identical behavior to an ordinary GeneratorSheet.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses will need to override this method to whatever it
means to calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SequenceGeneratorSheet.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SequenceGeneratorSheet.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6e68&gt;</em><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.generate">
<tt class="descname">generate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the output and send it out the Activity port.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SequenceGeneratorSheet.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6af8&gt;</em><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SequenceGeneratorSheet.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6838&gt;</em><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a lower bound for the memory taken by this sheet, in bytes.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus any other significant data owned (in some
sense) by this Sheet.  It will not usually include memory
taken by the Python dictionary or various &#8220;housekeeping&#8221;
attributes, which usually contribute only a small amount to
the memory requirements.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity of medium and long term internal state.</p>
<p>This function should be implemented by all subclasses so that
it preserves the ability of the Sheet to compute activity,
i.e. to operate over a short time scale, while preventing any
lasting changes to the state (if new_plasticity_state=False).</p>
<p>Any operation that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, simply saves a copy of the plastic flag to an
internal stack (so that it can be restored by
restore_plasticity_state()), and then sets plastic to
new_plasticity_state.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.SequenceGeneratorSheet.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.pop_input_generator">
<tt class="descname">pop_input_generator</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.pop_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Discard the current input_generator, and retrieve the previous one from the stack.</p>
<p>Warns if no input_generator is available on the stack.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.SequenceGeneratorSheet.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation before advancing the simulation
time.  Allows the event processor to do any computation that
requires that all events for this time have been delivered.
Computations performed in this method should not generate any
events with a zero time delay, or else causality could be
violated. (By default, does nothing.)</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.push_input_generator">
<tt class="descname">push_input_generator</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.push_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Push the current input_generator onto a stack for future retrieval.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.restore_plasticity_state">
<tt class="descname">restore_plasticity_state</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.restore_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores plasticity of medium and long term internal state after
a override_plasticity_state call.</p>
<p>This function should be implemented by all subclasses to
remove the effect of the most recent override_plasticity_state call,
i.e. to restore plasticity of any type that was overridden.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.SequenceGeneratorSheet.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SequenceGeneratorSheet.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e60a8&gt;</em><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.set_input_generator">
<tt class="descname">set_input_generator</tt><big>(</big><em>new_ig</em>, <em>push_existing=False</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.set_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the input_generator, overwriting the existing one by
default.</p>
<p>If push_existing is false, the existing input_generator is
discarded permanently.  Otherwise, the existing one is put
onto a stack, and can later be restored by calling
pop_input_generator.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SequenceGeneratorSheet.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b850fa6c0a8&gt;</em><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the most recently saved state off the stack.</p>
<p>See state_push() for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current state of this sheet to an internal stack.</p>
<p>This method is used by operations that need to test the
response of the sheet without permanently altering its state,
e.g. for measuring maps or probing the current behavior
non-invasively.  By default, only the activity pattern of this
sheet is saved, but subclasses should add saving for any
additional state that they maintain, or strange bugs are
likely to occur.  The state can be restored using state_pop().</p>
<p>Note that Sheets that do learning need not save the
values of all connection weights, if any, because
plasticity can be turned off explicitly.  Thus this method
is intended only for shorter-term state.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.SequenceGeneratorSheet.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SequenceGeneratorSheet.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.SequenceGeneratorSheet.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.SequenceGeneratorSheet.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.ChannelGeneratorSheet">
<em class="property">class </em><tt class="descclassname">topo.sheet.</tt><tt class="descname">ChannelGeneratorSheet</tt><big>(</big><em>**params</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.generatorsheet.GeneratorSheet" title="topo.base.generatorsheet.GeneratorSheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.generatorsheet.GeneratorSheet</span></tt></a></p>
<p>A GeneratorSheet that handles input patterns with multiple
simultaneous channels.</p>
<p>Accepts either a single-channel or an NChannel input_generator.
If the input_generator stores separate channel patterns, it is
used as-is; if other (single-channel) PatternGenerators are used,
the Class behaves like a normal GeneratorSheet.</p>
<p>When a pattern is generated, the average of the channels is sent
out on the Activity port as usual for a GeneratorSheet, and
channel activities are sent out on the Activity0, Activity1, ...,
ActivityN-1 ports.  Thus this class can be used just like
GeneratorSheet, but with optional color channels available, too.</p>
<p>If the input_generator is NChannel, this GeneratorSheet will
handle the separate channels and create the specific output
ports. If the input_generator is single-channel (eg, a monochrome
image) then this GeneratorSheet will behave as a normal
non-NChannel GeneratorSheet.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">constant_mean_total_channels_output</span></tt> (<em>allow_None=True, bounds=None, constant=False, default=None, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>If set, it enforces the average of the mean channel values to
        be fixed. Eg, M = ( activity0+activity1+...+activity(N-1)
        ).mean() / N = constant_mean_total_channels_output</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">channel_output_fns</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Dictionary with arrays of channel-specific output functions:
        eg, {0:[fnc1, fnc2],3:[fnc3]}.  The dictionary isn&#8217;t required
        to specify every channel, but rather only those required.</dd>
<dt><em>param ClassSelector</em> <tt class="docutils literal"><span class="pre">input_generator</span></tt> (<em>allow_None=False, constant=False, default=&lt;Constant Constant00802&gt;, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Specifies a particular PatternGenerator type to use when creating patterns.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.1, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">period</span></tt> (<em>allow_None=False, bounds=(0, None), constant=True, default=1, inclusive_bounds=(False, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Delay (in Simulation time) between generating new input patterns.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">phase</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.05, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Delay after the start of the Simulation (at time zero) before
        generating an input pattern.  For a clocked, feedforward
        simulation, one would typically want to use a small nonzero
        phase and use delays less than the user-visible step size
        (typically 1.0), so that inputs are generated and processed
        before this step is complete.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses will need to override this method to whatever it
means to calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ChannelGeneratorSheet.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ChannelGeneratorSheet.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b850fa6c0a8&gt;</em><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.generate">
<tt class="descname">generate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Works as in the superclass, but also generates NChannel output and sends
it out on the Activity0, Activity1, ..., ActivityN ports.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ChannelGeneratorSheet.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b850fa6c158&gt;</em><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ChannelGeneratorSheet.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b850fa6c208&gt;</em><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a lower bound for the memory taken by this sheet, in bytes.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus any other significant data owned (in some
sense) by this Sheet.  It will not usually include memory
taken by the Python dictionary or various &#8220;housekeeping&#8221;
attributes, which usually contribute only a small amount to
the memory requirements.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity of medium and long term internal state.</p>
<p>This function should be implemented by all subclasses so that
it preserves the ability of the Sheet to compute activity,
i.e. to operate over a short time scale, while preventing any
lasting changes to the state (if new_plasticity_state=False).</p>
<p>Any operation that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, simply saves a copy of the plastic flag to an
internal stack (so that it can be restored by
restore_plasticity_state()), and then sets plastic to
new_plasticity_state.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ChannelGeneratorSheet.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.pop_input_generator">
<tt class="descname">pop_input_generator</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.pop_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Discard the current input_generator, and retrieve the previous one from the stack.</p>
<p>Warns if no input_generator is available on the stack.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ChannelGeneratorSheet.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation before advancing the simulation
time.  Allows the event processor to do any computation that
requires that all events for this time have been delivered.
Computations performed in this method should not generate any
events with a zero time delay, or else causality could be
violated. (By default, does nothing.)</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.push_input_generator">
<tt class="descname">push_input_generator</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.push_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Push the current input_generator onto a stack for future retrieval.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.restore_plasticity_state">
<tt class="descname">restore_plasticity_state</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.restore_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores plasticity of medium and long term internal state after
a override_plasticity_state call.</p>
<p>This function should be implemented by all subclasses to
remove the effect of the most recent override_plasticity_state call,
i.e. to restore plasticity of any type that was overridden.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ChannelGeneratorSheet.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ChannelGeneratorSheet.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b850fa6caa0&gt;</em><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.set_input_generator">
<tt class="descname">set_input_generator</tt><big>(</big><em>new_ig</em>, <em>push_existing=False</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.set_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>If single-channel generators are used, the Class reverts to a
simple GeneratorSheet behavior.  If NChannel inputs are used,
it will update the number of channels of the
ChannelGeneratorSheet to match those of the input. If the
number of channels doesn&#8217;t change, there&#8217;s no need to reset.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ChannelGeneratorSheet.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b850fa6cba8&gt;</em><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the most recently saved state off the stack.</p>
<p>See state_push() for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current state of this sheet to an internal stack.</p>
<p>This method is used by operations that need to test the
response of the sheet without permanently altering its state,
e.g. for measuring maps or probing the current behavior
non-invasively.  By default, only the activity pattern of this
sheet is saved, but subclasses should add saving for any
additional state that they maintain, or strange bugs are
likely to occur.  The state can be restored using state_pop().</p>
<p>Note that Sheets that do learning need not save the
values of all connection weights, if any, because
plasticity can be turned off explicitly.  Thus this method
is intended only for shorter-term state.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ChannelGeneratorSheet.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ChannelGeneratorSheet.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ChannelGeneratorSheet.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.ChannelGeneratorSheet.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.JointNormalizingCFSheet">
<em class="property">class </em><tt class="descclassname">topo.sheet.</tt><tt class="descname">JointNormalizingCFSheet</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet.html#JointNormalizingCFSheet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.cf.CFSheet" title="topo.base.cf.CFSheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.cf.CFSheet</span></tt></a></p>
<p>A type of CFSheet extended to support joint sum-based normalization.</p>
<p>For L1 normalization, joint normalization means normalizing the
sum of (the absolute values of) all weights in a set of
corresponding CFs in different Projections, rather than only
considering weights in the same CF.</p>
<p>This class provides a mechanism for grouping Projections (see
_port_match and _grouped_in_projections) and a learn() function
that computes the joint sums.  Joint normalization also requires
having ConnectionField store and return a norm_total for each
neuron, and having an TransferFn that will respect this norm_total
rather than the strict total of the ConnectionField&#8217;s weights.  At
present, CFPOF_DivisiveNormalizeL1 and
CFPOF_DivisiveNormalizeL1_opt do use norm_total; others can be
extended to do something similar if necessary.</p>
<p>To enable joint normalization, you can declare that all the
incoming connections that should be normalized together each
have a dest_port of:</p>
<p>dest_port=(&#8216;Activity&#8217;,&#8217;JointNormalize&#8217;, &#8216;AfferentGroup1&#8217;),</p>
<p>Then all those that have this dest_port will be normalized
together, as long as an appropriate TransferFn is being used.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Parameter</em> <tt class="docutils literal"><span class="pre">mask</span></tt> (<em>allow_None=False, constant=False, default=&lt;SheetMask SheetMask00471&gt;, instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>SheetMask object for computing which units need to be computed further.
        The object should be an instance of SheetMask, and will
        compute which neurons will be considered active for the
        purposes of further processing.  The default mask effectively
        disables all masking, but subclasses can use this mask to
        implement optimizations, non-rectangular Sheet shapes,
        lesions, etc.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">measure_maps</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to include this Sheet when measuring various maps to create SheetViews.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">allow_skip_non_responding_units</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If true, then units that are inactive after the response
        function has been called can be skipped in subsequent
        processing. Whether or not the units will actually be skipped
        depends on the implementation of learning and learning output
        functions.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Callable</em> <tt class="docutils literal"><span class="pre">joint_norm_fn</span></tt> (<em>allow_None=False, constant=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Function to use to compute the norm_total for each CF in each
        projection from a group to be normalized jointly.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses may override this method to whatever it means to
calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6e10&gt;</em><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6788&gt;</em><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.input_event">
<tt class="descname">input_event</tt><big>(</big><em>conn</em>, <em>data</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.input_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Accept input from some sheet.  Call .present_input() to
compute the stimulation from that sheet.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6cb0&gt;</em><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="topo.sheet.JointNormalizingCFSheet.joint_norm_fn">
<em class="property">static </em><tt class="descname">joint_norm_fn</tt><big>(</big><em>projlist</em>, <em>active_units_mask=True</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.joint_norm_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute norm_total for each CF in each projection from a group to
be normalized jointly.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.learn">
<tt class="descname">learn</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/topo/sheet.html#JointNormalizingCFSheet.learn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.learn" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the learn() method on every Projection to the Sheet, and
call the output functions (jointly if necessary).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the memory bytes taken by this Sheet and its Projections.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus memory taken by all incoming Projections.
It will not usually include memory taken by the Python
dictionary or various &#8220;housekeeping&#8221; attributes, which usually
contribute only a small amount to the memory requirements.
Thus this value should be considered only a rough lower bound
from which memory requirements and memory usage patterns can
be estimated.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array
and the projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.n_conns">
<tt class="descname">n_conns</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.n_conns" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the total size of all incoming projections, in number of connections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity state of medium and long term
internal state.</p>
<p>This function should be implemented by all subclasses so that
when new_plasticity_state=False, it preserves the ability of
the ProjectionSheet to compute activity, i.e. to operate over
a short time scale, while preventing any lasting changes to
the state.</p>
<p>Any process that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, calls override_plasticity_state() on the
ProjectionSheet&#8217;s output_fns and all of its incoming
Projections, and also enables the &#8216;plastic&#8217; parameter for this
ProjectionSheet.  The old value of the plastic parameter is
saved to an internal stack to be restored by
restore_plasticity_state().</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.JointNormalizingCFSheet.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.present_input">
<tt class="descname">present_input</tt><big>(</big><em>input_activity</em>, <em>conn</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.present_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide the given input_activity to each in_projection that has a dest_port
equal to the specified port, asking each one to compute its activity.</p>
<p>The sheet&#8217;s own activity is not calculated until activate()
is called.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.JointNormalizingCFSheet.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation after all the events are processed for the
current time but before time advances.  Allows the event processor
to send any events that must be sent before time advances to drive
the simulation.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.projections">
<tt class="descname">projections</tt><big>(</big><em>name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either a named input p, or a dictionary
{projection_name, projection} of all the in_connections for
this ProjectionSheet.</p>
<p>A minor convenience function for finding projections by name;
the sheet&#8217;s list of in_connections usually provides simpler
access to the Projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.JointNormalizingCFSheet.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b85111ac158&gt;</em><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b85111ac1b0&gt;</em><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses Sheet state_pop to also pop projection activities.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses Sheet state_push to also push projection activities.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.update_unit_view">
<tt class="descname">update_unit_view</tt><big>(</big><em>x</em>, <em>y</em>, <em>proj_name=''</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.update_unit_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the list of UnitView objects for a particular unit in this CFSheet.
(There is one UnitView for each Projection to this CFSheet).</p>
<p>Each UnitView is then added to the sheet_views of its source sheet.
It returns the list of all UnitViews for the given unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.ActivityCopy">
<em class="property">class </em><tt class="descclassname">topo.sheet.</tt><tt class="descname">ActivityCopy</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet.html#ActivityCopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.ActivityCopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.sheet.Sheet" title="topo.base.sheet.Sheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.sheet.Sheet</span></tt></a></p>
<p>Copies incoming Activity patterns to its activity matrix and output port.</p>
<p>Trivial Sheet class that is useful primarily as a placeholder for
data that is computed elsewhere but that you want to appear as a
Sheet, e.g. when wrapping an external simulation.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.1, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.ActivityCopy.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses will need to override this method to whatever it
means to calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ActivityCopy.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.ActivityCopy.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ActivityCopy.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e60a8&gt;</em><a class="headerlink" href="#topo.sheet.ActivityCopy.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ActivityCopy.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6e10&gt;</em><a class="headerlink" href="#topo.sheet.ActivityCopy.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ActivityCopy.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6b50&gt;</em><a class="headerlink" href="#topo.sheet.ActivityCopy.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a lower bound for the memory taken by this sheet, in bytes.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus any other significant data owned (in some
sense) by this Sheet.  It will not usually include memory
taken by the Python dictionary or various &#8220;housekeeping&#8221;
attributes, which usually contribute only a small amount to
the memory requirements.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity of medium and long term internal state.</p>
<p>This function should be implemented by all subclasses so that
it preserves the ability of the Sheet to compute activity,
i.e. to operate over a short time scale, while preventing any
lasting changes to the state (if new_plasticity_state=False).</p>
<p>Any operation that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, simply saves a copy of the plastic flag to an
internal stack (so that it can be restored by
restore_plasticity_state()), and then sets plastic to
new_plasticity_state.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ActivityCopy.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ActivityCopy.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.restore_plasticity_state">
<tt class="descname">restore_plasticity_state</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.restore_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores plasticity of medium and long term internal state after
a override_plasticity_state call.</p>
<p>This function should be implemented by all subclasses to
remove the effect of the most recent override_plasticity_state call,
i.e. to restore plasticity of any type that was overridden.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ActivityCopy.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ActivityCopy.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b8510abc050&gt;</em><a class="headerlink" href="#topo.sheet.ActivityCopy.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ActivityCopy.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b8510abc0a8&gt;</em><a class="headerlink" href="#topo.sheet.ActivityCopy.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation when the EventProcessor is added to
the simulation.</p>
<p>If an EventProcessor needs to have any code run when it is
added to the simulation, the code can be put into this method
in the subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the most recently saved state off the stack.</p>
<p>See state_push() for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current state of this sheet to an internal stack.</p>
<p>This method is used by operations that need to test the
response of the sheet without permanently altering its state,
e.g. for measuring maps or probing the current behavior
non-invasively.  By default, only the activity pattern of this
sheet is saved, but subclasses should add saving for any
additional state that they maintain, or strange bugs are
likely to occur.  The state can be restored using state_pop().</p>
<p>Note that Sheets that do learning need not save the
values of all connection weights, if any, because
plasticity can be turned off explicitly.  Thus this method
is intended only for shorter-term state.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ActivityCopy.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ActivityCopy.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ActivityCopy.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.ActivityCopy.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ActivityCopy.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.ActivityCopy.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous">
<em class="property">class </em><tt class="descclassname">topo.sheet.</tt><tt class="descname">JointNormalizingCFSheet_Continuous</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet.html#JointNormalizingCFSheet_Continuous"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#topo.sheet.JointNormalizingCFSheet" title="topo.sheet.JointNormalizingCFSheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.sheet.JointNormalizingCFSheet</span></tt></a></p>
<p>CFSheet that runs continuously, with no &#8216;resting&#8217; periods between pattern presentations.</p>
<p>Note that learning occurs only when the time is a whole number.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Parameter</em> <tt class="docutils literal"><span class="pre">mask</span></tt> (<em>allow_None=False, constant=False, default=&lt;SheetMask SheetMask00471&gt;, instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>SheetMask object for computing which units need to be computed further.
        The object should be an instance of SheetMask, and will
        compute which neurons will be considered active for the
        purposes of further processing.  The default mask effectively
        disables all masking, but subclasses can use this mask to
        implement optimizations, non-rectangular Sheet shapes,
        lesions, etc.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">measure_maps</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to include this Sheet when measuring various maps to create SheetViews.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">allow_skip_non_responding_units</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If true, then units that are inactive after the response
        function has been called can be skipped in subsequent
        processing. Whether or not the units will actually be skipped
        depends on the implementation of learning and learning output
        functions.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Callable</em> <tt class="docutils literal"><span class="pre">joint_norm_fn</span></tt> (<em>allow_None=False, constant=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Function to use to compute the norm_total for each CF in each
        projection from a group to be normalized jointly.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses may override this method to whatever it means to
calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6cb0&gt;</em><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e68e8&gt;</em><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.input_event">
<tt class="descname">input_event</tt><big>(</big><em>conn</em>, <em>data</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.input_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Accept input from some sheet.  Call .present_input() to
compute the stimulation from that sheet.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85105e6ec0&gt;</em><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.joint_norm_fn">
<em class="property">static </em><tt class="descname">joint_norm_fn</tt><big>(</big><em>projlist</em>, <em>active_units_mask=True</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.joint_norm_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute norm_total for each CF in each projection from a group to
be normalized jointly.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.learn">
<tt class="descname">learn</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.learn" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the learn() method on every Projection to the Sheet, and
call the output functions (jointly if necessary).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the memory bytes taken by this Sheet and its Projections.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus memory taken by all incoming Projections.
It will not usually include memory taken by the Python
dictionary or various &#8220;housekeeping&#8221; attributes, which usually
contribute only a small amount to the memory requirements.
Thus this value should be considered only a rough lower bound
from which memory requirements and memory usage patterns can
be estimated.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array
and the projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.n_conns">
<tt class="descname">n_conns</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.n_conns" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the total size of all incoming projections, in number of connections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity state of medium and long term
internal state.</p>
<p>This function should be implemented by all subclasses so that
when new_plasticity_state=False, it preserves the ability of
the ProjectionSheet to compute activity, i.e. to operate over
a short time scale, while preventing any lasting changes to
the state.</p>
<p>Any process that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, calls override_plasticity_state() on the
ProjectionSheet&#8217;s output_fns and all of its incoming
Projections, and also enables the &#8216;plastic&#8217; parameter for this
ProjectionSheet.  The old value of the plastic parameter is
saved to an internal stack to be restored by
restore_plasticity_state().</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.present_input">
<tt class="descname">present_input</tt><big>(</big><em>input_activity</em>, <em>conn</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.present_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide the given input_activity to each in_projection that has a dest_port
equal to the specified port, asking each one to compute its activity.</p>
<p>The sheet&#8217;s own activity is not calculated until activate()
is called.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.projections">
<tt class="descname">projections</tt><big>(</big><em>name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either a named input p, or a dictionary
{projection_name, projection} of all the in_connections for
this ProjectionSheet.</p>
<p>A minor convenience function for finding projections by name;
the sheet&#8217;s list of in_connections usually provides simpler
access to the Projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b8510acf050&gt;</em><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b8510acf208&gt;</em><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses Sheet state_pop to also pop projection activities.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses Sheet state_push to also push projection activities.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.update_unit_view">
<tt class="descname">update_unit_view</tt><big>(</big><em>x</em>, <em>y</em>, <em>proj_name=''</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.update_unit_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the list of UnitView objects for a particular unit in this CFSheet.
(There is one UnitView for each Projection to this CFSheet).</p>
<p>Each UnitView is then added to the sheet_views of its source sheet.
It returns the list of all UnitViews for the given unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.JointNormalizingCFSheet_Continuous.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.JointNormalizingCFSheet_Continuous.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="topo.sheet.compute_joint_norm_totals">
<tt class="descclassname">topo.sheet.</tt><tt class="descname">compute_joint_norm_totals</tt><big>(</big><em>projlist</em>, <em>active_units_mask=True</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet.html#compute_joint_norm_totals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.compute_joint_norm_totals" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute norm_total for each CF in each projection from a group to
be normalized jointly.</p>
</dd></dl>

<dl class="class">
<dt id="topo.sheet.BoundingBox">
<em class="property">class </em><tt class="descclassname">topo.sheet.</tt><tt class="descname">BoundingBox</tt><big>(</big><em>**args</em><big>)</big><a class="headerlink" href="#topo.sheet.BoundingBox" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://ioam.github.io/holoviews/Reference_Manual/holoviews.core.html#holoviews.core.boundingregion.BoundingRegion" title="(in HoloViews v2014.05.14)"><tt class="xref py py-class docutils literal"><span class="pre">holoviews.core.boundingregion.BoundingRegion</span></tt></a></p>
<p>A rectangular bounding box defined either by two points forming
an axis-aligned rectangle (or simply a radius for a square).</p>
<dl class="method">
<dt id="topo.sheet.BoundingBox.centroid">
<tt class="descname">centroid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.BoundingBox.centroid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates of the center of this BoundingBox</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.BoundingBox.contains">
<tt class="descname">contains</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.BoundingBox.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the given point is contained within the
bounding box, where all boundaries of the box are
considered to be inclusive.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.BoundingBox.contains_exclusive">
<tt class="descname">contains_exclusive</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.BoundingBox.contains_exclusive" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the given point is contained within the
bounding box, where the bottom and right boundaries are
considered exclusive.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.BoundingBox.containsbb_exclusive">
<tt class="descname">containsbb_exclusive</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#topo.sheet.BoundingBox.containsbb_exclusive" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the given BoundingBox x is contained within the
bounding box, where at least one of the boundaries of the box has
to be exclusive.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.BoundingBox.containsbb_inclusive">
<tt class="descname">containsbb_inclusive</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#topo.sheet.BoundingBox.containsbb_inclusive" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the given BoundingBox x is contained within the
bounding box, including cases of exact match.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.BoundingBox.lbrt">
<tt class="descname">lbrt</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.BoundingBox.lbrt" title="Permalink to this definition">¶</a></dt>
<dd><p>return left,bottom,right,top values for the BoundingBox.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.BoundingBox.upperexclusive_contains">
<tt class="descname">upperexclusive_contains</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.BoundingBox.upperexclusive_contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the given point is contained within the
bounding box, where the right and upper boundaries
are exclusive, and the left and lower boundaries are
inclusive.  Useful for tiling a plane into non-overlapping
regions.</p>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.activity_type">
<tt class="descclassname">topo.sheet.</tt><tt class="descname">activity_type</tt><a class="headerlink" href="#topo.sheet.activity_type" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">float64</span></tt></p>
</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="composer-module">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">composer</span></tt> Module<a class="headerlink" href="#composer-module" title="Permalink to this headline">¶</a></h2>
<p class="graphviz">
<img src="../_images/inheritance-849d8f77e8e2f262e2868a64fac96a67aa5d2aba.png" alt="Inheritance diagram of topo.sheet.composer" usemap="#inheritance8f5bd8f20a" class="inheritance"/>
<map id="inheritance8f5bd8f20a" name="inheritance8f5bd8f20a">
<area shape="rect" id="node1" title="Provides methods to allow conversion between sheet and matrix" alt="" coords="308,5,661,30"/>
<area shape="rect" id="node3" href="topo.base.html#topo.base.sheet.Sheet" title="The generic base class for neural sheets." alt="" coords="709,30,874,54"/>
<area shape="rect" id="node2" title="params(name=String)" alt="" coords="5,53,260,78"/>
<area shape="rect" id="node4" href="topo.base.html#topo.base.simulation.EventProcessor" title="Base class for EventProcessors, i.e. objects that can accept and" alt="" coords="357,53,611,78"/>
<area shape="rect" id="node5" href="#topo.sheet.composer.Composer" title="A Sheet that combines the activity of 2 or more other sheets into" alt="" coords="922,30,1146,54"/>
</map>
</p>
<span class="target" id="module-topo.sheet.composer"></span><p>A Sheet class for composing activity from different sheets into a
single activity matrix.  Primarily a simple example of how to make
a sheet class, but can also be useful.</p>
<dl class="class">
<dt id="topo.sheet.composer.Composer">
<em class="property">class </em><tt class="descclassname">topo.sheet.composer.</tt><tt class="descname">Composer</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/composer.html#Composer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.composer.Composer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.sheet.Sheet" title="topo.base.sheet.Sheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.sheet.Sheet</span></tt></a></p>
<p>A Sheet that combines the activity of 2 or more other sheets into
a single activity matrix.  When connecting a sheet to a composer,
you can specify the location at which that sheet&#8217;s input will be
mapped into the composer by adding the &#8216;origin&#8217; argument to the
connect() call e.g.:</p>
<p>sim.connect(input_sheet.name,composer.name,delay=1, origin=(0.25,0.25))</p>
<p>will cause (0,0) on input sheet&#8217;s activity to map to (0.25,0.25)
on composer&#8217;s activity.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.1, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.composer.Composer.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses will need to override this method to whatever it
means to calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.composer.Composer.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.composer.Composer.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.composer.Composer.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b8510641310&gt;</em><a class="headerlink" href="#topo.sheet.composer.Composer.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.composer.Composer.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b8510641520&gt;</em><a class="headerlink" href="#topo.sheet.composer.Composer.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.composer.Composer.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b8510641628&gt;</em><a class="headerlink" href="#topo.sheet.composer.Composer.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a lower bound for the memory taken by this sheet, in bytes.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus any other significant data owned (in some
sense) by this Sheet.  It will not usually include memory
taken by the Python dictionary or various &#8220;housekeeping&#8221;
attributes, which usually contribute only a small amount to
the memory requirements.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity of medium and long term internal state.</p>
<p>This function should be implemented by all subclasses so that
it preserves the ability of the Sheet to compute activity,
i.e. to operate over a short time scale, while preventing any
lasting changes to the state (if new_plasticity_state=False).</p>
<p>Any operation that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, simply saves a copy of the plastic flag to an
internal stack (so that it can be restored by
restore_plasticity_state()), and then sets plastic to
new_plasticity_state.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.composer.Composer.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.port_configure">
<tt class="descname">port_configure</tt><big>(</big><em>port</em>, <em>**config</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/composer.html#Composer.port_configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.composer.Composer.port_configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure a specific input port.</p>
<p>origin = (default (0,0)) The offset in the output matrix where
this port&#8217;s input should be placed.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.composer.Composer.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.restore_plasticity_state">
<tt class="descname">restore_plasticity_state</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.restore_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores plasticity of medium and long term internal state after
a override_plasticity_state call.</p>
<p>This function should be implemented by all subclasses to
remove the effect of the most recent override_plasticity_state call,
i.e. to restore plasticity of any type that was overridden.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.composer.Composer.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.composer.Composer.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b8510641730&gt;</em><a class="headerlink" href="#topo.sheet.composer.Composer.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.composer.Composer.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b8510641788&gt;</em><a class="headerlink" href="#topo.sheet.composer.Composer.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation when the EventProcessor is added to
the simulation.</p>
<p>If an EventProcessor needs to have any code run when it is
added to the simulation, the code can be put into this method
in the subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the most recently saved state off the stack.</p>
<p>See state_push() for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current state of this sheet to an internal stack.</p>
<p>This method is used by operations that need to test the
response of the sheet without permanently altering its state,
e.g. for measuring maps or probing the current behavior
non-invasively.  By default, only the activity pattern of this
sheet is saved, but subclasses should add saving for any
additional state that they maintain, or strange bugs are
likely to occur.  The state can be restored using state_pop().</p>
<p>Note that Sheets that do learning need not save the
values of all connection weights, if any, because
plasticity can be turned off explicitly.  Thus this method
is intended only for shorter-term state.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.composer.Composer.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.composer.Composer.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.composer.Composer.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.composer.Composer.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.composer.Composer.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.composer.Composer.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="lissom-module">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">lissom</span></tt> Module<a class="headerlink" href="#lissom-module" title="Permalink to this headline">¶</a></h2>
<p class="graphviz">
<img src="../_images/inheritance-b900ee1b36347e94c4260779b8e2a4199c69cd9b.png" alt="Inheritance diagram of topo.sheet.lissom" usemap="#inheritance52647f6470" class="inheritance"/>
<map id="inheritance52647f6470" name="inheritance52647f6470">
<area shape="rect" id="node1" title="Provides methods to allow conversion between sheet and matrix" alt="" coords="164,2,352,16"/>
<area shape="rect" id="node5" href="topo.base.html#topo.base.sheet.Sheet" title="The generic base class for neural sheets." alt="" coords="378,16,466,29"/>
<area shape="rect" id="node2" title="params(name=String)" alt="" coords="3,28,139,42"/>
<area shape="rect" id="node6" href="topo.base.html#topo.base.simulation.EventProcessor" title="Base class for EventProcessors, i.e. objects that can accept and" alt="" coords="190,28,326,42"/>
<area shape="rect" id="node3" href="topo.base.html#topo.base.cf.CFSheet" title="A ProjectionSheet providing access to the ConnectionFields in its CFProjections." alt="" coords="653,16,736,29"/>
<area shape="rect" id="node7" href="#topo.sheet.JointNormalizingCFSheet" title="A type of CFSheet extended to support joint sum&#45;based normalization." alt="" coords="762,16,894,29"/>
<area shape="rect" id="node4" href="topo.base.html#topo.base.projection.ProjectionSheet" title="A Sheet whose activity is computed using Projections from other sheets." alt="" coords="491,16,627,29"/>
<area shape="rect" id="node8" href="#topo.sheet.SettlingCFSheet" title="A JointNormalizingCFSheet implementing the idea of settling." alt="" coords="920,16,1024,29"/>
</map>
</p>
<span class="target" id="module-topo.sheet.lissom"></span><p>Specific support for the LISSOM algorithm.</p>
<dl class="function">
<dt id="topo.sheet.lissom.schedule_events">
<tt class="descclassname">topo.sheet.lissom.</tt><tt class="descname">schedule_events</tt><big>(</big><em>sheet_str=&quot;topo.sim['V1']&quot;</em>, <em>st=0.5</em>, <em>aff_name='Afferent'</em>, <em>ids=1.0</em>, <em>ars=1.0</em>, <em>increase_inhibition=False</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/lissom.html#schedule_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.lissom.schedule_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function for scheduling a default set of events
typically used with a LISSOM model sheet.  The parameters used
are the defaults from Miikkulainen, Bednar, Choe, and Sirosh
(2005), Computational Maps in the Visual Cortex, Springer.</p>
<p>Note that Miikulainen 2005 specifies only one output_fn for the
LISSOM model sheet; where these scheduled actions operate on an
output_fn, they do so only on the first output_fn in the sheet&#8217;s
list of output_fns.</p>
<p>Installs afferent learning rate changes for any projection whose
name contains the keyword specified by aff_name (typically
&#8220;Afferent&#8221;).</p>
<p>The st argument determines the timescale relative to a
20000-iteration simulation, and results in the default
10000-iteration simulation for the default st=0.5.</p>
<p>The ids argument specifies the input density scale, i.e. how much
input there is at each iteration, on average, relative to the
default.  The ars argument specifies how much to scale the
afferent learning rate, if necessary.</p>
<p>If increase_inhibition is true, gradually increases the strength
of the inhibitory connection, typically used for natural image
simulations.</p>
</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="optimized-module">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">optimized</span></tt> Module<a class="headerlink" href="#optimized-module" title="Permalink to this headline">¶</a></h2>
<p class="graphviz">
<img src="../_images/inheritance-0cf7bbf0d13bb02f104ad7ddf8ec4c5d3869c4d1.png" alt="Inheritance diagram of topo.sheet.optimized" usemap="#inheritance03c0df95af" class="inheritance"/>
<map id="inheritance03c0df95af" name="inheritance03c0df95af">
<area shape="rect" id="node1" title="Provides methods to allow conversion between sheet and matrix" alt="" coords="146,2,313,14"/>
<area shape="rect" id="node7" href="topo.base.html#topo.base.sheet.Sheet" title="The generic base class for neural sheets." alt="" coords="362,14,440,26"/>
<area shape="rect" id="node2" title="params(name=String)" alt="" coords="2,37,123,49"/>
<area shape="rect" id="node6" href="topo.base.html#topo.base.projection.SheetMask" title="An abstract class that defines a mask over a ProjectionSheet object." alt="" coords="176,48,283,60"/>
<area shape="rect" id="node8" href="topo.base.html#topo.base.simulation.EventProcessor" title="Base class for EventProcessors, i.e. objects that can accept and" alt="" coords="169,25,290,37"/>
<area shape="rect" id="node3" href="topo.base.html#topo.base.cf.CFSheet" title="A ProjectionSheet providing access to the ConnectionFields in its CFProjections." alt="" coords="658,14,732,26"/>
<area shape="rect" id="node9" href="#topo.sheet.JointNormalizingCFSheet" title="A type of CFSheet extended to support joint sum&#45;based normalization." alt="" coords="755,14,873,26"/>
<area shape="rect" id="node4" href="topo.base.html#topo.base.projection.ProjectionSheet" title="A Sheet whose activity is computed using Projections from other sheets." alt="" coords="502,14,623,26"/>
<area shape="rect" id="node5" href="topo.base.html#topo.base.projection.NeighborhoodMask" title="A SheetMask where the mask includes a neighborhood around active neurons." alt="" coords="336,48,467,60"/>
<area shape="rect" id="node10" href="#topo.sheet.SettlingCFSheet" title="A JointNormalizingCFSheet implementing the idea of settling." alt="" coords="896,14,989,26"/>
<area shape="rect" id="node12" title="Faster but potentially unsafe optimized version of SettlingCFSheet." alt="" coords="1012,14,1149,26"/>
</map>
</p>
<span class="target" id="module-topo.sheet.optimized"></span><p>Inline-optimized Sheet classes</p>
<dl class="function">
<dt id="topo.sheet.optimized.compute_joint_norm_totals">
<tt class="descclassname">topo.sheet.optimized.</tt><tt class="descname">compute_joint_norm_totals</tt><big>(</big><em>projlist</em>, <em>active_units_mask=True</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.compute_joint_norm_totals" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute norm_total for each CF in each projection from a group to
be normalized jointly.</p>
</dd></dl>

<dl class="class">
<dt id="topo.sheet.optimized.SettlingCFSheet">
<em class="property">class </em><tt class="descclassname">topo.sheet.optimized.</tt><tt class="descname">SettlingCFSheet</tt><big>(</big><em>**params</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#topo.sheet.JointNormalizingCFSheet" title="topo.sheet.JointNormalizingCFSheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.sheet.JointNormalizingCFSheet</span></tt></a></p>
<p>A JointNormalizingCFSheet implementing the idea of settling.</p>
<p>Breaks continuous time up into discrete iterations, each
consisting of a series of activations, up to a fixed number of
settling steps.  Settling is controlled by the tsettle parameter;
once that number of settling steps has been reached, an external
input is required before the sheet will activate again.</p>
<p>See the LISSOM algorithm (Sirosh and Miikkulainen, Biological
Cybernetics 71:66-78, 1994) for one example of its usage.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">continuous_learning</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to modify the weights after every settling step.
        If false, waits until settling is completed before doing learning.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.6, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param Integer</em> <tt class="docutils literal"><span class="pre">mask_init_time</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Determines when a new mask is initialized in each new iteration.

        The mask is reset whenever new input comes in.  Once the
        activation_count (see tsettle) reaches mask_init_time, the mask
        is initialized to reflect the current activity profile.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Parameter</em> <tt class="docutils literal"><span class="pre">mask</span></tt> (<em>allow_None=False, constant=False, default=&lt;SheetMask SheetMask00471&gt;, instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>SheetMask object for computing which units need to be computed further.
        The object should be an instance of SheetMask, and will
        compute which neurons will be considered active for the
        purposes of further processing.  The default mask effectively
        disables all masking, but subclasses can use this mask to
        implement optimizations, non-rectangular Sheet shapes,
        lesions, etc.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">measure_maps</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to include this Sheet when measuring various maps to create SheetViews.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">beginning_of_iteration</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>List of callables to be executed at the beginning of each iteration.</dd>
<dt><em>param Integer</em> <tt class="docutils literal"><span class="pre">tsettle</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=8, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Number of times to activate the SettlingCFSheet sheet for each external input event.

        A counter is incremented each time an input is received from any
        source, and once the counter reaches tsettle, the last activation
        step is skipped so that there will not be any further recurrent
        activation.  The next external (i.e., afferent or feedback)
        event will then start the counter over again.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">allow_skip_non_responding_units</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If true, then units that are inactive after the response
        function has been called can be skipped in subsequent
        processing. Whether or not the units will actually be skipped
        depends on the implementation of learning and learning output
        functions.</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">post_initialization_weights_output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If not empty, weights output_fns that will replace the
        existing ones after an initial normalization step.</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">end_of_iteration</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>List of callables to be executed at the end of each iteration.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Callable</em> <tt class="docutils literal"><span class="pre">joint_norm_fn</span></tt> (<em>allow_None=False, constant=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Function to use to compute the norm_total for each CF in each
        projection from a group to be normalized jointly.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
<dt><em>param Parameter</em> <tt class="docutils literal"><span class="pre">strict_tsettle</span></tt> (<em>allow_None=True, constant=False, default=None, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If non-None, delay sending output until activation_count reaches this value.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses may override this method to whatever it means to
calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.SettlingCFSheet.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.SettlingCFSheet.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b851042a050&gt;</em><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.SettlingCFSheet.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b851042a158&gt;</em><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.SettlingCFSheet.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b851042a1b0&gt;</em><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="topo.sheet.optimized.SettlingCFSheet.joint_norm_fn">
<em class="property">static </em><tt class="descname">joint_norm_fn</tt><big>(</big><em>projlist</em>, <em>active_units_mask=True</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.joint_norm_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute norm_total for each CF in each projection from a group to
be normalized jointly.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.learn">
<tt class="descname">learn</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.learn" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the learn() method on every Projection to the Sheet, and
call the output functions (jointly if necessary).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the memory bytes taken by this Sheet and its Projections.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus memory taken by all incoming Projections.
It will not usually include memory taken by the Python
dictionary or various &#8220;housekeeping&#8221; attributes, which usually
contribute only a small amount to the memory requirements.
Thus this value should be considered only a rough lower bound
from which memory requirements and memory usage patterns can
be estimated.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array
and the projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.n_conns">
<tt class="descname">n_conns</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.n_conns" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the total size of all incoming projections, in number of connections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity state of medium and long term
internal state.</p>
<p>This function should be implemented by all subclasses so that
when new_plasticity_state=False, it preserves the ability of
the ProjectionSheet to compute activity, i.e. to operate over
a short time scale, while preventing any lasting changes to
the state.</p>
<p>Any process that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, calls override_plasticity_state() on the
ProjectionSheet&#8217;s output_fns and all of its incoming
Projections, and also enables the &#8216;plastic&#8217; parameter for this
ProjectionSheet.  The old value of the plastic parameter is
saved to an internal stack to be restored by
restore_plasticity_state().</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.optimized.SettlingCFSheet.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.present_input">
<tt class="descname">present_input</tt><big>(</big><em>input_activity</em>, <em>conn</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.present_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide the given input_activity to each in_projection that has a dest_port
equal to the specified port, asking each one to compute its activity.</p>
<p>The sheet&#8217;s own activity is not calculated until activate()
is called.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.optimized.SettlingCFSheet.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass the accumulated stimulation through self.output_fns and
send it out on the default output port.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.projections">
<tt class="descname">projections</tt><big>(</big><em>name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either a named input p, or a dictionary
{projection_name, projection} of all the in_connections for
this ProjectionSheet.</p>
<p>A minor convenience function for finding projections by name;
the sheet&#8217;s list of in_connections usually provides simpler
access to the Projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.optimized.SettlingCFSheet.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.SettlingCFSheet.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b851042ab50&gt;</em><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.SettlingCFSheet.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b851042aba8&gt;</em><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.update_unit_view">
<tt class="descname">update_unit_view</tt><big>(</big><em>x</em>, <em>y</em>, <em>proj_name=''</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.update_unit_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the list of UnitView objects for a particular unit in this CFSheet.
(There is one UnitView for each Projection to this CFSheet).</p>
<p>Each UnitView is then added to the sheet_views of its source sheet.
It returns the list of all UnitViews for the given unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.SettlingCFSheet.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.SettlingCFSheet.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.SettlingCFSheet.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.optimized.SettlingCFSheet.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.optimized.NeighborhoodMask">
<em class="property">class </em><tt class="descclassname">topo.sheet.optimized.</tt><tt class="descname">NeighborhoodMask</tt><big>(</big><em>sheet</em>, <em>**params</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.projection.SheetMask" title="topo.base.projection.SheetMask"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.projection.SheetMask</span></tt></a></p>
<p>A SheetMask where the mask includes a neighborhood around active neurons.</p>
<p>Given a radius and a threshold, considers a neuron active if at
least one neuron in the radius is over the threshold.</p>
<dl class="docutils">
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">threshold</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=1e-05, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Threshold for considering a neuron active.
       This value should be small to avoid discarding significantly active
       neurons.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">radius</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=0.05, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Radius in Sheet coordinates around active neurons to consider
       neighbors active as well.  Using a larger radius ensures that
       the calculation will be unaffected by the mask, but it will
       reduce any computational benefit from the mask.</dd>
</dl>
<dl class="attribute">
<dt id="topo.sheet.optimized.NeighborhoodMask.data">
<tt class="descname">data</tt><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that whenever somebody accesses the data they are not None.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.NeighborhoodMask.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b8510f04d08&gt;</em><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.NeighborhoodMask.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b851042a050&gt;</em><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.NeighborhoodMask.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b851042a158&gt;</em><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.optimized.NeighborhoodMask.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.optimized.NeighborhoodMask.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize mask to default value (with no neurons masked out).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Variant of __repr__ designed for generating a runnable script.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.optimized.NeighborhoodMask.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.NeighborhoodMask.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b851042a4c8&gt;</em><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.optimized.NeighborhoodMask.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b851042a578&gt;</em><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore the most recently saved state.</p>
<p>See state_push() for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Save this instance&#8217;s state.</p>
<p>For Parameterized instances, this includes the state of
dynamically generated values.</p>
<p>Subclasses that maintain short-term state should additionally
save and restore that state using state_push() and
state_pop().</p>
<p>Generally, this method is used by operations that need to test
something without permanently altering the objects&#8217; state.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.update">
<tt class="descname">update</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the current mask based on the current activity and a previous mask.</p>
<p>Should be called only if calculate() has already been called since the last
reset(); potentially faster to compute than redoing the entire calculate().</p>
<p>Subclasses should override this method to compute some non-default
mask.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.optimized.NeighborhoodMask.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.optimized.NeighborhoodMask.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="ptztracker-module">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">ptztracker</span></tt> Module<a class="headerlink" href="#ptztracker-module" title="Permalink to this headline">¶</a></h2>
<p class="graphviz">
<img src="../_images/inheritance-ed9162bd6edebe987c14a2eb80ee9cfbe1e654ee.png" alt="Inheritance diagram of topo.sheet.ptztracker" usemap="#inheritancee1aac473e9" class="inheritance"/>
<map id="inheritancee1aac473e9" name="inheritancee1aac473e9">
<area shape="rect" id="node1" title="Provides methods to allow conversion between sheet and matrix" alt="" coords="241,4,518,23"/>
<area shape="rect" id="node3" href="topo.base.html#topo.base.sheet.Sheet" title="The generic base class for neural sheets." alt="" coords="555,23,685,43"/>
<area shape="rect" id="node2" title="params(name=String)" alt="" coords="4,42,204,61"/>
<area shape="rect" id="node4" href="topo.base.html#topo.base.simulation.EventProcessor" title="Base class for EventProcessors, i.e. objects that can accept and" alt="" coords="280,42,479,61"/>
<area shape="rect" id="node6" href="#topo.sheet.ptztracker.PtzTracker" title="Given an incoming Activity pattern, find the brightest pixel and" alt="" coords="723,23,898,43"/>
<area shape="rect" id="node5" href="#topo.sheet.ptztracker.BrightPixelTracker" title="This class is used to define the position of the brightest pixel" alt="" coords="936,4,1148,23"/>
<area shape="rect" id="node7" href="#topo.sheet.ptztracker.FaceTracker" title="This class is used to detect face in the image and draws a" alt="" coords="950,42,1133,61"/>
</map>
</p>
<span class="target" id="module-topo.sheet.ptztracker"></span><p>This class finds the brightest pixel of the image, returns it in white and
other in black.
This class also gives instructions to move the camera.</p>
<dl class="class">
<dt id="topo.sheet.ptztracker.PtzTracker">
<em class="property">class </em><tt class="descclassname">topo.sheet.ptztracker.</tt><tt class="descname">PtzTracker</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/ptztracker.html#PtzTracker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.sheet.Sheet" title="topo.base.sheet.Sheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.sheet.Sheet</span></tt></a></p>
<p>Given an incoming Activity pattern, find the brightest pixel and
output an activity pattern where all but this pixel is set to zero.
Also controls a pan/tilt/zoom camera, instructing it to move so that
the brightest pixel will be in the center of the sheet.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">ratio</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=1.33, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Ratio depends of the resolution of the camera, here 640x480.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.1, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">fov_y</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=57, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Field of view along y in degrees. It is calculate with the resolution
        of the camera, and its field of view. It also depends of the bounds used,
        here the size_normalization used is &#8220;fit_shortest&#8221;. So Sheet coordinates
        along y for camera&#8217;s image are between -0.5 and 0.5.
        The original calculation is fov_y=fov_x*0.5*2/ratio.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">fov_x</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=76, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Field of view along x in degrees, depends of the camera.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param ClassSelector</em> <tt class="docutils literal"><span class="pre">ptz</span></tt> (<em>allow_None=True, constant=False, default=None, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>An instance of ptzcamera.PTZ to be controlled.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">maxrange_x</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=4480, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Maximum position of the camera along x.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">maxrange_y</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=1920, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Maximum position of the camera along y.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses will need to override this method to whatever it
means to calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.PtzTracker.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.determine_next_position">
<tt class="descname">determine_next_position</tt><big>(</big><em>img</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/ptztracker.html#PtzTracker.determine_next_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.determine_next_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the next location to move in the specified image, using whatever
criterion is appropriate for this class.  Returns a tuple of (pos,bbox),
where pos is the (row,column) coordinate of the next position, and bbox
is a bounding box around that coordinate, with whatever size is appropriate
for this class.  Returns None if no appropriate location can be found.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.draw_boxes">
<tt class="descname">draw_boxes</tt><big>(</big><em>input_data</em>, <em>bboxmin</em>, <em>bboxmax</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/ptztracker.html#PtzTracker.draw_boxes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.draw_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws three boxes arond the returned location.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.PtzTracker.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b8511030d60&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.PtzTracker.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b8511030ec0&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.PtzTracker.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b8511030f18&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.move_camera">
<tt class="descname">move_camera</tt><big>(</big><em>pos</em>, <em>bboxmin</em>, <em>bbboxmax</em>, <em>brightpixel</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/ptztracker.html#PtzTracker.move_camera"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.move_camera" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the camera to centre the returned location.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a lower bound for the memory taken by this sheet, in bytes.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus any other significant data owned (in some
sense) by this Sheet.  It will not usually include memory
taken by the Python dictionary or various &#8220;housekeeping&#8221;
attributes, which usually contribute only a small amount to
the memory requirements.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity of medium and long term internal state.</p>
<p>This function should be implemented by all subclasses so that
it preserves the ability of the Sheet to compute activity,
i.e. to operate over a short time scale, while preventing any
lasting changes to the state (if new_plasticity_state=False).</p>
<p>Any operation that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, simply saves a copy of the plastic flag to an
internal stack (so that it can be restored by
restore_plasticity_state()), and then sets plastic to
new_plasticity_state.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ptztracker.PtzTracker.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ptztracker.PtzTracker.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.restore_plasticity_state">
<tt class="descname">restore_plasticity_state</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.restore_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores plasticity of medium and long term internal state after
a override_plasticity_state call.</p>
<p>This function should be implemented by all subclasses to
remove the effect of the most recent override_plasticity_state call,
i.e. to restore plasticity of any type that was overridden.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ptztracker.PtzTracker.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.PtzTracker.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffd4680&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.PtzTracker.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffd4730&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation when the EventProcessor is added to
the simulation.</p>
<p>If an EventProcessor needs to have any code run when it is
added to the simulation, the code can be put into this method
in the subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the most recently saved state off the stack.</p>
<p>See state_push() for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current state of this sheet to an internal stack.</p>
<p>This method is used by operations that need to test the
response of the sheet without permanently altering its state,
e.g. for measuring maps or probing the current behavior
non-invasively.  By default, only the activity pattern of this
sheet is saved, but subclasses should add saving for any
additional state that they maintain, or strange bugs are
likely to occur.  The state can be restored using state_pop().</p>
<p>Note that Sheets that do learning need not save the
values of all connection weights, if any, because
plasticity can be turned off explicitly.  Thus this method
is intended only for shorter-term state.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.PtzTracker.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.PtzTracker.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.PtzTracker.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.ptztracker.PtzTracker.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.ptztracker.BrightPixelTracker">
<em class="property">class </em><tt class="descclassname">topo.sheet.ptztracker.</tt><tt class="descname">BrightPixelTracker</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/ptztracker.html#BrightPixelTracker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#topo.sheet.ptztracker.PtzTracker" title="topo.sheet.ptztracker.PtzTracker"><tt class="xref py py-class docutils literal"><span class="pre">topo.sheet.ptztracker.PtzTracker</span></tt></a></p>
<p>This class is used to define the position of the brightest pixel
in the image.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">ratio</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=1.33, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Ratio depends of the resolution of the camera, here 640x480.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.1, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">fov_y</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=57, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Field of view along y in degrees. It is calculate with the resolution
        of the camera, and its field of view. It also depends of the bounds used,
        here the size_normalization used is &#8220;fit_shortest&#8221;. So Sheet coordinates
        along y for camera&#8217;s image are between -0.5 and 0.5.
        The original calculation is fov_y=fov_x*0.5*2/ratio.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">fov_x</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=76, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Field of view along x in degrees, depends of the camera.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param ClassSelector</em> <tt class="docutils literal"><span class="pre">ptz</span></tt> (<em>allow_None=True, constant=False, default=None, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>An instance of ptzcamera.PTZ to be controlled.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">maxrange_x</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=4480, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Maximum position of the camera along x.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">maxrange_y</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=1920, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Maximum position of the camera along y.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses will need to override this method to whatever it
means to calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.draw_boxes">
<tt class="descname">draw_boxes</tt><big>(</big><em>input_data</em>, <em>bboxmin</em>, <em>bboxmax</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.draw_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws three boxes arond the returned location.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b8511030e10&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b8511030940&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b8511030998&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.move_camera">
<tt class="descname">move_camera</tt><big>(</big><em>pos</em>, <em>bboxmin</em>, <em>bbboxmax</em>, <em>brightpixel</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.move_camera" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the camera to centre the returned location.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a lower bound for the memory taken by this sheet, in bytes.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus any other significant data owned (in some
sense) by this Sheet.  It will not usually include memory
taken by the Python dictionary or various &#8220;housekeeping&#8221;
attributes, which usually contribute only a small amount to
the memory requirements.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity of medium and long term internal state.</p>
<p>This function should be implemented by all subclasses so that
it preserves the ability of the Sheet to compute activity,
i.e. to operate over a short time scale, while preventing any
lasting changes to the state (if new_plasticity_state=False).</p>
<p>Any operation that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, simply saves a copy of the plastic flag to an
internal stack (so that it can be restored by
restore_plasticity_state()), and then sets plastic to
new_plasticity_state.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.restore_plasticity_state">
<tt class="descname">restore_plasticity_state</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.restore_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores plasticity of medium and long term internal state after
a override_plasticity_state call.</p>
<p>This function should be implemented by all subclasses to
remove the effect of the most recent override_plasticity_state call,
i.e. to restore plasticity of any type that was overridden.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffd45d0&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffd4730&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation when the EventProcessor is added to
the simulation.</p>
<p>If an EventProcessor needs to have any code run when it is
added to the simulation, the code can be put into this method
in the subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the most recently saved state off the stack.</p>
<p>See state_push() for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current state of this sheet to an internal stack.</p>
<p>This method is used by operations that need to test the
response of the sheet without permanently altering its state,
e.g. for measuring maps or probing the current behavior
non-invasively.  By default, only the activity pattern of this
sheet is saved, but subclasses should add saving for any
additional state that they maintain, or strange bugs are
likely to occur.  The state can be restored using state_pop().</p>
<p>Note that Sheets that do learning need not save the
values of all connection weights, if any, because
plasticity can be turned off explicitly.  Thus this method
is intended only for shorter-term state.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.BrightPixelTracker.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.ptztracker.BrightPixelTracker.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.ptztracker.FaceTracker">
<em class="property">class </em><tt class="descclassname">topo.sheet.ptztracker.</tt><tt class="descname">FaceTracker</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/ptztracker.html#FaceTracker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#topo.sheet.ptztracker.PtzTracker" title="topo.sheet.ptztracker.PtzTracker"><tt class="xref py py-class docutils literal"><span class="pre">topo.sheet.ptztracker.PtzTracker</span></tt></a></p>
<p>This class is used to detect face in the image and draws a
rectangle around each detected face.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">ratio</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=1.33, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Ratio depends of the resolution of the camera, here 640x480.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.1, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">fov_y</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=57, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Field of view along y in degrees. It is calculate with the resolution
        of the camera, and its field of view. It also depends of the bounds used,
        here the size_normalization used is &#8220;fit_shortest&#8221;. So Sheet coordinates
        along y for camera&#8217;s image are between -0.5 and 0.5.
        The original calculation is fov_y=fov_x*0.5*2/ratio.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">fov_x</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=76, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Field of view along x in degrees, depends of the camera.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param ClassSelector</em> <tt class="docutils literal"><span class="pre">ptz</span></tt> (<em>allow_None=True, constant=False, default=None, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>An instance of ptzcamera.PTZ to be controlled.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">maxrange_x</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=4480, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Maximum position of the camera along x.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">maxrange_y</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=1920, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Maximum position of the camera along y.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses will need to override this method to whatever it
means to calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.FaceTracker.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.draw_boxes">
<tt class="descname">draw_boxes</tt><big>(</big><em>input_data</em>, <em>bboxmin</em>, <em>bboxmax</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.draw_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws three boxes arond the returned location.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.FaceTracker.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b85110309f0&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.FaceTracker.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b8511030c00&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.FaceTracker.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b8511030c58&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.move_camera">
<tt class="descname">move_camera</tt><big>(</big><em>pos</em>, <em>bboxmin</em>, <em>bbboxmax</em>, <em>brightpixel</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.move_camera" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the camera to centre the returned location.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a lower bound for the memory taken by this sheet, in bytes.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus any other significant data owned (in some
sense) by this Sheet.  It will not usually include memory
taken by the Python dictionary or various &#8220;housekeeping&#8221;
attributes, which usually contribute only a small amount to
the memory requirements.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity of medium and long term internal state.</p>
<p>This function should be implemented by all subclasses so that
it preserves the ability of the Sheet to compute activity,
i.e. to operate over a short time scale, while preventing any
lasting changes to the state (if new_plasticity_state=False).</p>
<p>Any operation that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, simply saves a copy of the plastic flag to an
internal stack (so that it can be restored by
restore_plasticity_state()), and then sets plastic to
new_plasticity_state.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ptztracker.FaceTracker.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ptztracker.FaceTracker.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.restore_plasticity_state">
<tt class="descname">restore_plasticity_state</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.restore_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores plasticity of medium and long term internal state after
a override_plasticity_state call.</p>
<p>This function should be implemented by all subclasses to
remove the effect of the most recent override_plasticity_state call,
i.e. to restore plasticity of any type that was overridden.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.ptztracker.FaceTracker.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.FaceTracker.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffd4730&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.FaceTracker.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffd4680&gt;</em><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation when the EventProcessor is added to
the simulation.</p>
<p>If an EventProcessor needs to have any code run when it is
added to the simulation, the code can be put into this method
in the subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the most recently saved state off the stack.</p>
<p>See state_push() for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current state of this sheet to an internal stack.</p>
<p>This method is used by operations that need to test the
response of the sheet without permanently altering its state,
e.g. for measuring maps or probing the current behavior
non-invasively.  By default, only the activity pattern of this
sheet is saved, but subclasses should add saving for any
additional state that they maintain, or strange bugs are
likely to occur.  The state can be restored using state_pop().</p>
<p>Note that Sheets that do learning need not save the
values of all connection weights, if any, because
plasticity can be turned off explicitly.  Thus this method
is intended only for shorter-term state.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.ptztracker.FaceTracker.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.FaceTracker.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.ptztracker.FaceTracker.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.ptztracker.FaceTracker.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="saccade-module">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">saccade</span></tt> Module<a class="headerlink" href="#saccade-module" title="Permalink to this headline">¶</a></h2>
<p class="graphviz">
<img src="../_images/inheritance-c4e3a7072ab35658e3c2802bb8b2993490973b44.png" alt="Inheritance diagram of topo.sheet.saccade" usemap="#inheritancea3b1853c84" class="inheritance"/>
<map id="inheritancea3b1853c84" name="inheritancea3b1853c84">
<area shape="rect" id="node1" title="Provides methods to allow conversion between sheet and matrix" alt="" coords="189,3,407,18"/>
<area shape="rect" id="node6" href="topo.base.html#topo.base.sheet.Sheet" title="The generic base class for neural sheets." alt="" coords="436,18,538,34"/>
<area shape="rect" id="node2" title="params(name=String)" alt="" coords="3,33,160,48"/>
<area shape="rect" id="node7" href="topo.base.html#topo.base.simulation.EventProcessor" title="Base class for EventProcessors, i.e. objects that can accept and" alt="" coords="220,33,376,48"/>
<area shape="rect" id="node3" href="topo.base.html#topo.base.cf.CFSheet" title="A ProjectionSheet providing access to the ConnectionFields in its CFProjections." alt="" coords="807,3,904,18"/>
<area shape="rect" id="node9" href="#topo.sheet.saccade.SaccadeController" title="Sheet that decodes activity on CFProjections into a saccade command." alt="" coords="975,3,1138,18"/>
<area shape="rect" id="node4" href="topo.base.html#topo.base.projection.ProjectionSheet" title="A Sheet whose activity is computed using Projections from other sheets." alt="" coords="578,3,735,18"/>
<area shape="rect" id="node5" href="topo.base.html#topo.base.generatorsheet.GeneratorSheet" title="Sheet for generating a series of 2D patterns." alt="" coords="567,33,746,48"/>
<area shape="rect" id="node8" href="#topo.sheet.SequenceGeneratorSheet" title="Sheet that generates a timed sequence of patterns." alt="" coords="776,33,935,48"/>
<area shape="rect" id="node10" href="#topo.sheet.saccade.ShiftingGeneratorSheet" title="A GeneratorSheet that takes an extra input on port &#39;Saccade&#39;" alt="" coords="965,33,1148,48"/>
</map>
</p>
<span class="target" id="module-topo.sheet.saccade"></span><p>Sheets for simulating a moving eye.</p>
<p>This module provides two classes, ShiftingGeneratorSheet, and
SaccadeController, that can be used to simulate a moving eye,
controlled by topographic neural activity from structures like the
superior colliculus.</p>
<p>ShiftingGeneratorSheet is a subclass of GeneratorSheet that accepts a
saccade command on the &#8216;Saccade&#8217; port in the form of a tuple:
(amplitude,direction), specified in degrees.  It shifts its sheet
bounds in response to this command, keeping the centroid of the bounds
within a prespecified boundingregion.</p>
<p>SaccadeController is a subclass of CFSheet that accepts CF projections
and decodes its resulting activity into a saccade command suitable for
controlling a ShiftingGeneratorSheet.</p>
<dl class="class">
<dt id="topo.sheet.saccade.SaccadeController">
<em class="property">class </em><tt class="descclassname">topo.sheet.saccade.</tt><tt class="descname">SaccadeController</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/saccade.html#SaccadeController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.saccade.SaccadeController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="topo.base.html#topo.base.cf.CFSheet" title="topo.base.cf.CFSheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.base.cf.CFSheet</span></tt></a></p>
<p>Sheet that decodes activity on CFProjections into a saccade command.</p>
<p>This class accepts CF-projected input and computes its activity
like a normal CFSheet, then decodes that activity into a saccade
amplitude and direction as would be specified by activity in the
superior colliculi.  The X dimension of activity corresponds to
amplitude, the Y dimension to direction.  The activity is decoded
to a single (x,y) point according to the parameter decode_method.</p>
<p>From this (x,y) point an (amplitude,direction) pair, specified in
degrees, is computed using the parameters amplitude_scale and
direction scale.  That pair is then sent out on the &#8216;Saccade&#8217;
output port.</p>
<p>NOTE: Non-linear mappings for saccade commands, as in Ottes, et
al (below), are assumed to be provided using the coord_mapperg
parameter of the incoming CFProjection.</p>
<p>References:
Ottes, van Gisbergen, Egglermont. 1986.  Visuomotor fields of the
superior colliculus: a quantitative model.  Vision Research;
26(6): 857-73.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Parameter</em> <tt class="docutils literal"><span class="pre">mask</span></tt> (<em>allow_None=False, constant=False, default=&lt;SheetMask SheetMask00471&gt;, instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>SheetMask object for computing which units need to be computed further.
        The object should be an instance of SheetMask, and will
        compute which neurons will be considered active for the
        purposes of further processing.  The default mask effectively
        disables all masking, but subclasses can use this mask to
        implement optimizations, non-rectangular Sheet shapes,
        lesions, etc.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">direction_scale</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=180, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Scale factor for saccade command direction, expressed in
        degrees per unit of sheet.  Indicates what direction of saccade
        is represented by the y-component of the command input.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">measure_maps</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to include this Sheet when measuring various maps to create SheetViews.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">amplitude_scale</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=120, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Scale factor for saccade command amplitude, expressed in
        degrees per unit of sheet.  Indicates how large a saccade is
        represented by the x-component of the command input.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">allow_skip_non_responding_units</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If true, then units that are inactive after the response
        function has been called can be skipped in subsequent
        processing. Whether or not the units will actually be skipped
        depends on the implementation of learning and learning output
        functions.</dd>
<dt><em>param ClassSelector</em> <tt class="docutils literal"><span class="pre">command_mapper</span></tt> (<em>allow_None=False, constant=False, default=&lt;IdentityMF IdentityMF01027&gt;, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A CoordinateMapperFn that will be applied to the command vector extracted
        from the sheet activity.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
<dt><em>param Callable</em> <tt class="docutils literal"><span class="pre">decode_fn</span></tt> (<em>allow_None=False, constant=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>The function for extracting a single point from sheet activity.
        Should take a sheet as the first argument, and return (x,y).</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="topo.sheet.saccade.SaccadeController.decode_fn">
<em class="property">static </em><tt class="descname">decode_fn</tt><big>(</big><em>sheet</em>, <em>activity=None</em>, <em>threshold=0.0</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.decode_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sheet coords of the (weighted) centroid of sheet activity.</p>
<p>If the activity argument is not None, then it is used instead
of sheet.activity.  If the sheet activity is all zero, the
centroid of the sheet bounds is returned.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.SaccadeController.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.SaccadeController.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffbb4c8&gt;</em><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.SaccadeController.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffbb260&gt;</em><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.input_event">
<tt class="descname">input_event</tt><big>(</big><em>conn</em>, <em>data</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.input_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Accept input from some sheet.  Call .present_input() to
compute the stimulation from that sheet.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.SaccadeController.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffbb520&gt;</em><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.learn">
<tt class="descname">learn</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.learn" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, call the learn() and apply_learn_output_fns()
methods on every Projection to this Sheet.</p>
<p>Any other type of learning can be implemented by overriding this method.
Called from self.process_current_time() _after_ activity has
been propagated.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the memory bytes taken by this Sheet and its Projections.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus memory taken by all incoming Projections.
It will not usually include memory taken by the Python
dictionary or various &#8220;housekeeping&#8221; attributes, which usually
contribute only a small amount to the memory requirements.
Thus this value should be considered only a rough lower bound
from which memory requirements and memory usage patterns can
be estimated.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array
and the projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.n_conns">
<tt class="descname">n_conns</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.n_conns" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the total size of all incoming projections, in number of connections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity state of medium and long term
internal state.</p>
<p>This function should be implemented by all subclasses so that
when new_plasticity_state=False, it preserves the ability of
the ProjectionSheet to compute activity, i.e. to operate over
a short time scale, while preventing any lasting changes to
the state.</p>
<p>Any process that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, calls override_plasticity_state() on the
ProjectionSheet&#8217;s output_fns and all of its incoming
Projections, and also enables the &#8216;plastic&#8217; parameter for this
ProjectionSheet.  The old value of the plastic parameter is
saved to an internal stack to be restored by
restore_plasticity_state().</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.saccade.SaccadeController.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.present_input">
<tt class="descname">present_input</tt><big>(</big><em>input_activity</em>, <em>conn</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.present_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide the given input_activity to each in_projection that has a dest_port
equal to the specified port, asking each one to compute its activity.</p>
<p>The sheet&#8217;s own activity is not calculated until activate()
is called.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.saccade.SaccadeController.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation after all the events are processed for the
current time but before time advances.  Allows the event processor
to send any events that must be sent before time advances to drive
the simulation.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.projections">
<tt class="descname">projections</tt><big>(</big><em>name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either a named input p, or a dictionary
{projection_name, projection} of all the in_connections for
this ProjectionSheet.</p>
<p>A minor convenience function for finding projections by name;
the sheet&#8217;s list of in_connections usually provides simpler
access to the Projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.saccade.SaccadeController.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.SaccadeController.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffbb788&gt;</em><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.SaccadeController.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffbb7e0&gt;</em><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation when the EventProcessor is added to
the simulation.</p>
<p>If an EventProcessor needs to have any code run when it is
added to the simulation, the code can be put into this method
in the subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses Sheet state_pop to also pop projection activities.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses Sheet state_push to also push projection activities.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.update_unit_view">
<tt class="descname">update_unit_view</tt><big>(</big><em>x</em>, <em>y</em>, <em>proj_name=''</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.update_unit_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the list of UnitView objects for a particular unit in this CFSheet.
(There is one UnitView for each Projection to this CFSheet).</p>
<p>Each UnitView is then added to the sheet_views of its source sheet.
It returns the list of all UnitViews for the given unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.SaccadeController.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.SaccadeController.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.SaccadeController.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.saccade.SaccadeController.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet">
<em class="property">class </em><tt class="descclassname">topo.sheet.saccade.</tt><tt class="descname">ShiftingGeneratorSheet</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/saccade.html#ShiftingGeneratorSheet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#topo.sheet.SequenceGeneratorSheet" title="topo.sheet.SequenceGeneratorSheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.sheet.SequenceGeneratorSheet</span></tt></a></p>
<p>A GeneratorSheet that takes an extra input on port &#8216;Saccade&#8217;
that specifies a saccade command as a tuple (amplitude,direction),
indicating the relative size and direction of the saccade in
degrees.  The parameter visual_angle_scale defines the
relationship between degrees and sheet coordinates.  The parameter
saccade bounds limits the region within which the saccades may occur.</p>
<dl class="docutils">
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">fixation_jitter_period</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=10, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Period, in time units, indicating how often the eye jitters.</dd>
<dt><em>param ClassSelector</em> <tt class="docutils literal"><span class="pre">input_generator</span></tt> (<em>allow_None=False, constant=False, default=&lt;Constant Constant00802&gt;, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Specifies a particular PatternGenerator type to use when creating patterns.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.1, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">saccade_bounds</span></tt> (<em>allow_None=False, constant=False, default=BoundingBox(radius=1.0), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>The bounds for saccades.  Saccades are constrained such that the centroid of the
        sheet bounds remains within this region.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">generate_on_shift</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to generate a new pattern when a shift occurs.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">fixation_jitter</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Standard deviation of Gaussian fixation jitter.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">period</span></tt> (<em>allow_None=False, bounds=(0, None), constant=True, default=1, inclusive_bounds=(False, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Delay (in Simulation time) between generating new input patterns.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">phase</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.05, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Delay after the start of the Simulation (at time zero) before
        generating an input pattern.  For a clocked, feedforward
        simulation, one would typically want to use a small nonzero
        phase and use delays less than the user-visible step size
        (typically 1.0), so that inputs are generated and processed
        before this step is complete.</dd>
<dt><em>param List</em> <tt class="docutils literal"><span class="pre">input_sequence</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>The sequence of patterns to generate.  Must be a list of
          (onset,generator) tuples. An empty list defaults to the
          single tuple: (0,self.input_generator), resulting in
          identical behavior to an ordinary GeneratorSheet.</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">visual_angle_scale</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=90, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>The scale factor determining the visual angle subtended by this sheet, in
        degrees per unit of sheet.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect activity from each projection, combine it to calculate
the activity for this sheet, and send the result out.</p>
<p>Subclasses will need to override this method to whatever it
means to calculate activity in that subclass.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffbb5d0&gt;</em><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffbb4c8&gt;</em><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffbb2b8&gt;</em><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a lower bound for the memory taken by this sheet, in bytes.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus any other significant data owned (in some
sense) by this Sheet.  It will not usually include memory
taken by the Python dictionary or various &#8220;housekeeping&#8221;
attributes, which usually contribute only a small amount to
the memory requirements.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity of medium and long term internal state.</p>
<p>This function should be implemented by all subclasses so that
it preserves the ability of the Sheet to compute activity,
i.e. to operate over a short time scale, while preventing any
lasting changes to the state (if new_plasticity_state=False).</p>
<p>Any operation that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, simply saves a copy of the plastic flag to an
internal stack (so that it can be restored by
restore_plasticity_state()), and then sets plastic to
new_plasticity_state.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.pop_input_generator">
<tt class="descname">pop_input_generator</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.pop_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Discard the current input_generator, and retrieve the previous one from the stack.</p>
<p>Warns if no input_generator is available on the stack.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the simulation before advancing the simulation
time.  Allows the event processor to do any computation that
requires that all events for this time have been delivered.
Computations performed in this method should not generate any
events with a zero time delay, or else causality could be
violated. (By default, does nothing.)</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.push_input_generator">
<tt class="descname">push_input_generator</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.push_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Push the current input_generator onto a stack for future retrieval.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.refixate">
<tt class="descname">refixate</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/topo/sheet/saccade.html#ShiftingGeneratorSheet.refixate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.refixate" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the bounds toward the fixation point.</p>
<p>Moves the bounds toward the fixation point specified in
self.fixation_point, potentially with noise as specified by
the parameter self.fixation_jitter.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.restore_plasticity_state">
<tt class="descname">restore_plasticity_state</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.restore_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores plasticity of medium and long term internal state after
a override_plasticity_state call.</p>
<p>This function should be implemented by all subclasses to
remove the effect of the most recent override_plasticity_state call,
i.e. to restore plasticity of any type that was overridden.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.
The data is deepcopied before it is sent out, to ensure that
future changes to the data are not reflected in events from
the past.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffbb730&gt;</em><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.set_input_generator">
<tt class="descname">set_input_generator</tt><big>(</big><em>new_ig</em>, <em>push_existing=False</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.set_input_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the input_generator, overwriting the existing one by
default.</p>
<p>If push_existing is false, the existing input_generator is
discarded permanently.  Otherwise, the existing one is put
onto a stack, and can later be restored by calling
pop_input_generator.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b850ffbb3c0&gt;</em><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.shift">
<tt class="descname">shift</tt><big>(</big><em>amplitude</em>, <em>direction</em>, <em>generate=None</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/saccade.html#ShiftingGeneratorSheet.shift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the bounding box by the given amplitude and
direction.</p>
<p>Amplitude and direction are specified in degrees, and will be
converted using the sheet&#8217;s visual_angle_scale
parameter. Negative directions are always downward, regardless
of whether the amplitude is positive (rightword) or negative
(leftward).  I.e. straight-down = -90, straight up = +90.</p>
<p>The generate argument indicates whether or not to generate
output after shifting.  If generate is None, then the value of
the sheet&#8217;s generate_on_shift parameter will be used.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.state_pop">
<tt class="descname">state_pop</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.state_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the most recently saved state off the stack.</p>
<p>See state_push() for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.state_push">
<tt class="descname">state_push</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.state_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current state of this sheet to an internal stack.</p>
<p>This method is used by operations that need to test the
response of the sheet without permanently altering its state,
e.g. for measuring maps or probing the current behavior
non-invasively.  By default, only the activity pattern of this
sheet is saved, but subclasses should add saving for any
additional state that they maintain, or strange bugs are
likely to occur.  The state can be restored using state_pop().</p>
<p>Note that Sheets that do learning need not save the
values of all connection weights, if any, because
plasticity can be turned off explicitly.  Thus this method
is intended only for shorter-term state.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.saccade.ShiftingGeneratorSheet.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.saccade.ShiftingGeneratorSheet.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="topo.sheet.saccade.activity_centroid">
<tt class="descclassname">topo.sheet.saccade.</tt><tt class="descname">activity_centroid</tt><big>(</big><em>sheet</em>, <em>activity=None</em>, <em>threshold=0.0</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/saccade.html#activity_centroid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.saccade.activity_centroid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sheet coords of the (weighted) centroid of sheet activity.</p>
<p>If the activity argument is not None, then it is used instead
of sheet.activity.  If the sheet activity is all zero, the
centroid of the sheet bounds is returned.</p>
</dd></dl>

<dl class="function">
<dt id="topo.sheet.saccade.activity_sample">
<tt class="descclassname">topo.sheet.saccade.</tt><tt class="descname">activity_sample</tt><big>(</big><em>sheet</em>, <em>activity=None</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/saccade.html#activity_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.saccade.activity_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample from the sheet activity as if it were a probability distribution.</p>
<p>Returns the sheet coordinates of the sampled unit.  If
activity is not None, it is used instead of sheet.activity.</p>
</dd></dl>

<dl class="function">
<dt id="topo.sheet.saccade.activity_mode">
<tt class="descclassname">topo.sheet.saccade.</tt><tt class="descname">activity_mode</tt><big>(</big><em>sheet</em>, <em>activity=None</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/saccade.html#activity_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.saccade.activity_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the sheet coordinates of the mode (highest value) of
the sheet activity.</p>
</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="slissom-module">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">slissom</span></tt> Module<a class="headerlink" href="#slissom-module" title="Permalink to this headline">¶</a></h2>
<p class="graphviz">
<img src="../_images/inheritance-776c7beca29f719cc16bafeaab826f7d3122ebce.png" alt="Inheritance diagram of topo.sheet.slissom" usemap="#inheritancefc7b96e2bc" class="inheritance"/>
<map id="inheritancefc7b96e2bc" name="inheritancefc7b96e2bc">
<area shape="rect" id="node1" title="Provides methods to allow conversion between sheet and matrix" alt="" coords="163,2,350,16"/>
<area shape="rect" id="node5" href="topo.base.html#topo.base.sheet.Sheet" title="The generic base class for neural sheets." alt="" coords="375,16,463,29"/>
<area shape="rect" id="node2" title="params(name=String)" alt="" coords="3,28,138,41"/>
<area shape="rect" id="node6" href="topo.base.html#topo.base.simulation.EventProcessor" title="Base class for EventProcessors, i.e. objects that can accept and" alt="" coords="189,28,324,41"/>
<area shape="rect" id="node3" href="topo.base.html#topo.base.cf.CFSheet" title="A ProjectionSheet providing access to the ConnectionFields in its CFProjections." alt="" coords="648,16,731,29"/>
<area shape="rect" id="node7" href="#topo.sheet.JointNormalizingCFSheet" title="A type of CFSheet extended to support joint sum&#45;based normalization." alt="" coords="756,16,888,29"/>
<area shape="rect" id="node4" href="topo.base.html#topo.base.projection.ProjectionSheet" title="A Sheet whose activity is computed using Projections from other sheets." alt="" coords="488,16,623,29"/>
<area shape="rect" id="node8" href="#topo.sheet.SettlingCFSheet" title="A JointNormalizingCFSheet implementing the idea of settling." alt="" coords="913,16,1017,29"/>
<area shape="rect" id="node9" href="#topo.sheet.slissom.SLISSOM" title="A Sheet class implementing the SLISSOM algorithm" alt="" coords="1042,16,1149,29"/>
</map>
</p>
<span class="target" id="module-topo.sheet.slissom"></span><p>The SLISSOM class.</p>
<dl class="class">
<dt id="topo.sheet.slissom.SLISSOM">
<em class="property">class </em><tt class="descclassname">topo.sheet.slissom.</tt><tt class="descname">SLISSOM</tt><big>(</big><em>**params</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/slissom.html#SLISSOM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.slissom.SLISSOM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#topo.sheet.SettlingCFSheet" title="topo.sheet.SettlingCFSheet"><tt class="xref py py-class docutils literal"><span class="pre">topo.sheet.SettlingCFSheet</span></tt></a></p>
<p>A Sheet class implementing the SLISSOM algorithm
(Choe and Miikkulainen, Neurocomputing 21:139-157, 1998).</p>
<p>A SLISSOM sheet is a SettlingCFSheet sheet extended to include spiking
neurons using dynamic synapses.</p>
<dl class="docutils">
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.6, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows a sorting order for Sheets, e.g. in the GUI.</dd>
<dt><em>param Callable</em> <tt class="docutils literal"><span class="pre">joint_norm_fn</span></tt> (<em>allow_None=False, constant=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Function to use to compute the norm_total for each CF in each
        projection from a group to be normalized jointly.</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">beginning_of_iteration</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>List of callables to be executed at the beginning of each iteration.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">threshold</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=0.3, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Baseline threshold</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">dynamic_threshold_init</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=2.0, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Initial value for dynamic threshold when spike occurs</dd>
<dt><em>param NumericTuple</em> <tt class="docutils literal"><span class="pre">layout_location</span></tt> (<em>allow_None=False, constant=False, default=(-1, -1), instantiate=False, length=2, pickle_default_value=True, precedence=-1, readonly=False</em>)</dt>
<dd>Location for this Sheet in an arbitrary pixel-based space
            in which Sheets can be laid out for visualization.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">spike_amplitude</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=1.0, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Amplitude of spike at the moment of spiking</dd>
<dt><em>param List</em> <tt class="docutils literal"><span class="pre">trace_coords</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>List of coord(s) of membrane potential(s) to track over time</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">threshold_decay_rate</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=0.01, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Dynamic threshold decay rate</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">plastic</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Setting this to False tells the Sheet not to change its
            permanent state (e.g. any connection weights) based on
            incoming events.</dd>
<dt><em>param Integer</em> <tt class="docutils literal"><span class="pre">tsettle</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=8, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Number of times to activate the SettlingCFSheet sheet for each external input event.

        A counter is incremented each time an input is received from any
        source, and once the counter reaches tsettle, the last activation
        step is skipped so that there will not be any further recurrent
        activation.  The next external (i.e., afferent or feedback)
        event will then start the counter over again.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">continuous_learning</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to modify the weights after every settling step.
        If false, waits until settling is completed before doing learning.</dd>
<dt><em>param Parameter</em> <tt class="docutils literal"><span class="pre">strict_tsettle</span></tt> (<em>allow_None=True, constant=False, default=None, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If non-None, delay sending output until activation_count reaches this value.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">apply_output_fns</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to apply the output_fn after computing an Activity matrix.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">row_precedence</span></tt> (<em>allow_None=False, bounds=None, constant=False, default=0.5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Allows grouping of Sheets before sorting precedence is
            applied, e.g. for two-dimensional plots in the GUI.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">nominal_density</span></tt> (<em>allow_None=False, bounds=None, constant=True, default=10, inclusive_bounds=(True, True), instantiate=True, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>User-specified number of processing units per 1.0 distance
            horizontally or vertically in Sheet coordinates. The actual
            number may be different because of discretization; the matrix
            needs to tile the plane exactly, and for that to work the
            density might need to be adjusted.  For instance, an area of 3x2
            cannot have a density of 2 in each direction. The true density
            may be obtained from either the xdensity or ydensity attribute
            (since these are identical for a Sheet).</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">end_of_iteration</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>List of callables to be executed at the end of each iteration.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">reset_on_new_iteration</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=False, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Reset activity and projection activity when new iteration starts</dd>
<dt><em>param Dict</em> <tt class="docutils literal"><span class="pre">properties</span></tt> (<em>allow_None=False, constant=False, default={}, instantiate=True, is_instance=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>A dictionary of property values associated with the Sheet
       object.  For instance, the dictionary:

       {&#8216;polarity&#8217;:&#8217;ON&#8217;, &#8216;eye&#8217;:&#8217;Left&#8217;}

       could be used to indicate a left, LGN Sheet with ON-surround
       receptive fields.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">absolute_refractory</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=1.0, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Absolute refractory period</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">noise_rate</span></tt> (<em>allow_None=False, bounds=(0, 1.0), constant=False, default=0.0, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Noise added to the on-going activity</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">measure_maps</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Whether to include this Sheet when measuring various maps to create SheetViews.</dd>
<dt><em>param Integer</em> <tt class="docutils literal"><span class="pre">mask_init_time</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=5, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Determines when a new mask is initialized in each new iteration.

        The mask is reset whenever new input comes in.  Once the
        activation_count (see tsettle) reaches mask_init_time, the mask
        is initialized to reflect the current activity profile.</dd>
<dt><em>param BoundingRegionParameter</em> <tt class="docutils literal"><span class="pre">nominal_bounds</span></tt> (<em>allow_None=False, constant=True, default=BoundingBox(radius=0.5), instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>User-specified BoundingBox of the Sheet coordinate area
            covered by this Sheet.  The left and right bounds&#8211;if
            specified&#8211;will always be observed, but the top and bottom
            bounds may be adjusted to ensure the density in the y
            direction is the same as the density in the x direction.
            In such a case, the top and bottom bounds are adjusted
            so that the center y point remains the same, and each
            bound is as close as possible to its specified value. The
            actual value of this Parameter is not adjusted, but the
            true bounds may be found from the &#8216;bounds&#8217; attribute
            of this object.</dd>
<dt><em>param Number</em> <tt class="docutils literal"><span class="pre">trace_n</span></tt> (<em>allow_None=False, bounds=(1, None), constant=False, default=400, inclusive_bounds=(True, True), instantiate=False, pickle_default_value=True, precedence=None, readonly=False, time_dependent=True, time_fn=&lt;Time Time00001&gt;</em>)</dt>
<dd>Number of steps to track neuron&#8217;s membrane potential</dd>
<dt><em>param Parameter</em> <tt class="docutils literal"><span class="pre">mask</span></tt> (<em>allow_None=False, constant=False, default=&lt;SheetMask SheetMask00471&gt;, instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>SheetMask object for computing which units need to be computed further.
        The object should be an instance of SheetMask, and will
        compute which neurons will be considered active for the
        purposes of further processing.  The default mask effectively
        disables all masking, but subclasses can use this mask to
        implement optimizations, non-rectangular Sheet shapes,
        lesions, etc.</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[PiecewiseLinear(init_keys=[], lower_bound=0.1, name=&#8217;PiecewiseLinear01028&#8217;, norm_value=None, upper_bound=0.65)], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>Output function(s) to apply (if apply_output_fns is true) to this Sheet&#8217;s activity.</dd>
<dt><em>param Boolean</em> <tt class="docutils literal"><span class="pre">allow_skip_non_responding_units</span></tt> (<em>allow_None=False, bounds=(0, 1), constant=False, default=True, instantiate=False, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If true, then units that are inactive after the response
        function has been called can be skipped in subsequent
        processing. Whether or not the units will actually be skipped
        depends on the implementation of learning and learning output
        functions.</dd>
<dt><em>param HookList</em> <tt class="docutils literal"><span class="pre">post_initialization_weights_output_fns</span></tt> (<em>allow_None=False, bounds=(0, None), constant=False, default=[], instantiate=True, pickle_default_value=True, precedence=None, readonly=False</em>)</dt>
<dd>If not empty, weights output_fns that will replace the
        existing ones after an initial normalization step.</dd>
</dl>
<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.activate">
<tt class="descname">activate</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/topo/sheet/slissom.html#SLISSOM.activate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>For now, this is the same as the parent&#8217;s activate(), plus
fixed+dynamic thresholding. Overloading was necessary to
avoid self.send_output() being invoked before thresholding.
This function also updates and maintains internal values such as
membrane_potential, spike, etc.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.activity_len">
<tt class="descname">activity_len</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.activity_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of items that have been saved by state_push().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.closest_cell_center">
<tt class="descname">closest_cell_center</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.closest_cell_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given arbitary sheet coordinates, return the sheet coordinates
of the center of the closest unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.debug">
<tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a debugging statement.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.defaults">
<tt class="descname">defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Return {parameter_name:parameter.default} for all non-constant
Parameters.</p>
<p>Note that a Parameter for which instantiate==True has its default
instantiated.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.slissom.SLISSOM.density">
<tt class="descname">density</tt><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.density" title="Permalink to this definition">¶</a></dt>
<dd><p>The sheet&#8217;s true density (i.e. the
xdensity, which is equal to the ydensity for a Sheet.)</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.slissom.SLISSOM.force_new_dynamic_value">
<tt class="descname">force_new_dynamic_value</tt><em class="property"> = &lt;functools.partial object at 0x2b8511580628&gt;</em><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.force_new_dynamic_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.get_param_values">
<tt class="descname">get_param_values</tt><big>(</big><em>onlychanged=False</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.get_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of name,value pairs for all Parameters of this
object.</p>
<p>If onlychanged is True, will only return values that are not
equal to the default value.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.slissom.SLISSOM.get_value_generator">
<tt class="descname">get_value_generator</tt><em class="property"> = &lt;functools.partial object at 0x2b8511580788&gt;</em><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.get_value_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.input_event">
<tt class="descname">input_event</tt><big>(</big><em>conn</em>, <em>data</em><big>)</big><a class="reference internal" href="../_modules/topo/sheet/slissom.html#SLISSOM.input_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.input_event" title="Permalink to this definition">¶</a></dt>
<dd><p>SLISSOM-specific input_event handeling:
On a new afferent input, DO NOT clear the activity matrix unless
reset_on_new_iteration is True.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.slissom.SLISSOM.inspect_value">
<tt class="descname">inspect_value</tt><em class="property"> = &lt;functools.partial object at 0x2b8511580838&gt;</em><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.inspect_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="topo.sheet.slissom.SLISSOM.joint_norm_fn">
<em class="property">static </em><tt class="descname">joint_norm_fn</tt><big>(</big><em>projlist</em>, <em>active_units_mask=True</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.joint_norm_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute norm_total for each CF in each projection from a group to
be normalized jointly.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.learn">
<tt class="descname">learn</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.learn" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the learn() method on every Projection to the Sheet, and
call the output functions (jointly if necessary).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.matrix2sheet">
<tt class="descname">matrix2sheet</tt><big>(</big><em>float_row</em>, <em>float_col</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.matrix2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating-point location (float_row,float_col) in
matrix coordinates to its corresponding location (x,y) in
sheet coordinates.</p>
<p>Valid for scalar or array float_row and float_col.</p>
<p>Inverse of sheet2matrix().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.matrixidx2sheet">
<tt class="descname">matrixidx2sheet</tt><big>(</big><em>row</em>, <em>col</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.matrixidx2sheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (x,y) where x and y are the floating point coordinates
of the <em>center</em> of the given matrix cell (row,col). If the
matrix cell represents a 0.2 by 0.2 region, then the center
location returned would be 0.1,0.1.</p>
<p>NOTE: This is NOT the strict mathematical inverse of
sheet2matrixidx(), because sheet2matrixidx() discards all but
the integer portion of the continuous matrix coordinate.</p>
<p>Valid only for scalar or array row and col.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.matrixplot_trace">
<tt class="descname">matrixplot_trace</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/topo/sheet/slissom.html#SLISSOM.matrixplot_trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.matrixplot_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrixplot membrane potential trace of the unit designated by the
trace_coords list.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.message">
<tt class="descname">message</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.n_bytes">
<tt class="descname">n_bytes</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.n_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the memory bytes taken by this Sheet and its Projections.</p>
<p>Typically, this number will include the activity array and any
similar arrays, plus memory taken by all incoming Projections.
It will not usually include memory taken by the Python
dictionary or various &#8220;housekeeping&#8221; attributes, which usually
contribute only a small amount to the memory requirements.
Thus this value should be considered only a rough lower bound
from which memory requirements and memory usage patterns can
be estimated.</p>
<p>Subclasses should reimplement this method if they store a
significant amount of data other than in the activity array
and the projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.n_conns">
<tt class="descname">n_conns</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.n_conns" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the total size of all incoming projections, in number of connections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.override_plasticity_state">
<tt class="descname">override_plasticity_state</tt><big>(</big><em>new_plasticity_state</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.override_plasticity_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override plasticity state of medium and long term
internal state.</p>
<p>This function should be implemented by all subclasses so that
when new_plasticity_state=False, it preserves the ability of
the ProjectionSheet to compute activity, i.e. to operate over
a short time scale, while preventing any lasting changes to
the state.</p>
<p>Any process that does not have any lasting state, such as
those affecting only the current activity level, should not
be affected by this call.</p>
<p>By default, calls override_plasticity_state() on the
ProjectionSheet&#8217;s output_fns and all of its incoming
Projections, and also enables the &#8216;plastic&#8217; parameter for this
ProjectionSheet.  The old value of the plastic parameter is
saved to an internal stack to be restored by
restore_plasticity_state().</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.slissom.SLISSOM.params">
<em class="property">classmethod </em><tt class="descname">params</tt><big>(</big><em>parameter_name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Parameters of this class as the
dictionary {name: parameter_object}</p>
<p>Includes Parameters from this class and its
superclasses.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.plot_trace">
<tt class="descname">plot_trace</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/topo/sheet/slissom.html#SLISSOM.plot_trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.plot_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot membrane potential trace of the unit designated by the
trace_coords list. This plot has trace_n data points.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.pprint">
<tt class="descname">pprint</tt><big>(</big><em>imports=None</em>, <em>prefix=' '</em>, <em>unknown_value='&lt;?&gt;'</em>, <em>qualify=False</em>, <em>separator=''</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>(Experimental) Pretty printed representation that may be
evaluated with eval. See pprint() function for more details.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.present_input">
<tt class="descname">present_input</tt><big>(</big><em>input_activity</em>, <em>conn</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.present_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide the given input_activity to each in_projection that has a dest_port
equal to the specified port, asking each one to compute its activity.</p>
<p>The sheet&#8217;s own activity is not calculated until activate()
is called.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.slissom.SLISSOM.print_param_defaults">
<em class="property">classmethod </em><tt class="descname">print_param_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.print_param_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the default values of all cls&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.print_param_values">
<tt class="descname">print_param_values</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.print_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values of all this object&#8217;s Parameters.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.process_current_time">
<tt class="descname">process_current_time</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.process_current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass the accumulated stimulation through self.output_fns and
send it out on the default output port.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.projections">
<tt class="descname">projections</tt><big>(</big><em>name=None</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either a named input p, or a dictionary
{projection_name, projection} of all the in_connections for
this ProjectionSheet.</p>
<p>A minor convenience function for finding projections by name;
the sheet&#8217;s list of in_connections usually provides simpler
access to the Projections.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.release_sheet_view">
<tt class="descname">release_sheet_view</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.release_sheet_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the dictionary entry with key entry &#8216;view_name&#8217; to save
memory.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.row_col_sheetcoords">
<tt class="descname">row_col_sheetcoords</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.row_col_sheetcoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of Y-coordinates corresponding to the rows of
the activity matrix of the sheet, and an array of
X-coordinates corresponding to the columns.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.script_repr">
<tt class="descname">script_repr</tt><big>(</big><em>imports=</em>, <span class="optional">[</span><span class="optional">]</span><em>prefix='    '</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.script_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a runnable command for creating this EventProcessor.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.send_output">
<tt class="descname">send_output</tt><big>(</big><em>src_port=None</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.send_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Send some data out to all connections on the given src_port.</p>
</dd></dl>

<dl class="classmethod">
<dt id="topo.sheet.slissom.SLISSOM.set_default">
<em class="property">classmethod </em><tt class="descname">set_default</tt><big>(</big><em>param_name</em>, <em>value</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.set_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of param_name.</p>
<p>Equivalent to setting param_name on the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.slissom.SLISSOM.set_dynamic_time_fn">
<tt class="descname">set_dynamic_time_fn</tt><em class="property"> = &lt;functools.partial object at 0x2b85115809f0&gt;</em><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.set_dynamic_time_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="topo.sheet.slissom.SLISSOM.set_param">
<tt class="descname">set_param</tt><em class="property"> = &lt;functools.partial object at 0x2b8511580aa0&gt;</em><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.set_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.sheet2matrix">
<tt class="descname">sheet2matrix</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.sheet2matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in Sheet coordinates to continuous
matrix coordinates.</p>
<p>Returns (float_row,float_col), where float_row corresponds to
y, and float_col to x.</p>
<p>Valid for scalar or array x and y.</p>
<p>Note about Bounds For a Sheet with
BoundingBox(points=((-0.5,-0.5),(0.5,0.5))) and density=3,
x=-0.5 corresponds to float_col=0.0 and x=0.5 corresponds to
float_col=3.0.  float_col=3.0 is not inside the matrix
representing this Sheet, which has the three columns
(0,1,2). That is, x=-0.5 is inside the BoundingBox but x=0.5
is outside. Similarly, y=0.5 is inside (at row 0) but y=-0.5
is outside (at row 3) (it&#8217;s the other way round for y because
the matrix row index increases as y decreases).</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.sheet2matrixidx">
<tt class="descname">sheet2matrixidx</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.sheet2matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a point (x,y) in sheet coordinates to the integer row
and column index of the matrix cell in which that point falls,
given a bounds and density.  Returns (row,column).</p>
<p>Note that if coordinates along the right or bottom boundary
are passed into this function, the returned matrix coordinate
of the boundary will be just outside the matrix, because the
right and bottom boundaries are exclusive.</p>
<p>Valid for scalar or array x and y.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.sheetcoordinates_of_matrixidx">
<tt class="descname">sheetcoordinates_of_matrixidx</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.sheetcoordinates_of_matrixidx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y where x is a vector of sheet coordinates
representing the x-center of each matrix cell, and y
represents the corresponding y-center of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.sheetcoords_of_idx_grid">
<tt class="descname">sheetcoords_of_idx_grid</tt><big>(</big><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.sheetcoords_of_idx_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of x-coordinates and an array of y-coordinates
corresponding to the activity matrix of the sheet.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.update_unit_view">
<tt class="descname">update_unit_view</tt><big>(</big><em>x</em>, <em>y</em>, <em>proj_name=''</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.update_unit_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the list of UnitView objects for a particular unit in this CFSheet.
(There is one UnitView for each Projection to this CFSheet).</p>
<p>Each UnitView is then added to the sheet_views of its source sheet.
It returns the list of all UnitViews for the given unit.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.vectorplot_trace">
<tt class="descname">vectorplot_trace</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/topo/sheet/slissom.html#SLISSOM.vectorplot_trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.vectorplot_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot membrane potential trace of the unit designated by the
trace_coords list. This plot has trace_n data points.
This method simply calls plot_trace().</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.verbose">
<tt class="descname">verbose</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a verbose message.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="method">
<dt id="topo.sheet.slissom.SLISSOM.warning">
<tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Print msg merged with args as a warning, unless module variable
warnings_as_exceptions is True, then raise an Exception
containing the arguments.</p>
<p>See Python&#8217;s logging module for details of message formatting.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.slissom.SLISSOM.xdensity">
<tt class="descname">xdensity</tt><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.xdensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the x direction.</p>
</dd></dl>

<dl class="attribute">
<dt id="topo.sheet.slissom.SLISSOM.ydensity">
<tt class="descname">ydensity</tt><a class="headerlink" href="#topo.sheet.slissom.SLISSOM.ydensity" title="Permalink to this definition">¶</a></dt>
<dd><p>The spacing between elements in an underlying matrix
representation, in the y direction.</p>
</dd></dl>

</dd></dl>

<hr class="docutils" />
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/topo-banner7.png" alt="Logo"/>
            </a></p>
<ul class="global-toc">

<li><a href="../index.html">Home</a></li>
<li><a href="../News/index.html">News</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="../User_Manual/index.html">User Manual</a></li>
<li><a href="index.html">Reference Manual</a></li>
<li><a href="../Developer_Manual/index.html">Developer Manual</a></li>
<li><a href="http://github.com/ioam/topographica">Github Source Code</a></li>
<li><a href="../Forums/index.html">Forums</a></li>
<li><a href="../Team_Members/index.html">Team Members</a></li>
<li><a href="../Future_Work/index.html">Future Work</a></li>
<li><a href="../FAQ/index.html">FAQ</a></li>
<li><a href="../Links/index.html">Links</a></li>
<li><a href="../Home/pubs.html">Publications</a></li>
<li><a href="../site_map.html">Site Map</a></li>
</ul>
<h3><a href="../index.html">Table Of Contents</a></h3>

<ul>
<li><a class="reference internal" href="#">topo.sheet Package</a><ul>
<li><a class="reference internal" href="#sheet-package"><tt class="docutils literal"><span class="pre">sheet</span></tt> Package</a></li>
<li><a class="reference internal" href="#composer-module"><tt class="docutils literal"><span class="pre">composer</span></tt> Module</a></li>
<li><a class="reference internal" href="#lissom-module"><tt class="docutils literal"><span class="pre">lissom</span></tt> Module</a></li>
<li><a class="reference internal" href="#optimized-module"><tt class="docutils literal"><span class="pre">optimized</span></tt> Module</a></li>
<li><a class="reference internal" href="#ptztracker-module"><tt class="docutils literal"><span class="pre">ptztracker</span></tt> Module</a></li>
<li><a class="reference internal" href="#saccade-module"><tt class="docutils literal"><span class="pre">saccade</span></tt> Module</a></li>
<li><a class="reference internal" href="#slissom-module"><tt class="docutils literal"><span class="pre">slissom</span></tt> Module</a></li>
</ul>
</li>
</ul>


<h3>This Page</h3>
<ul class="this-page-menu">
	<li><a	href="https://github.com/ioam/topographica/edit/master/doc/Reference_Manual/topo.sheet.rst" rel="nofollow">Edit on GitHub</a></li>
    <li><a	href="http://doozy.inf.ed.ac.uk:8010/builders/topographica_docs" rel="nofollow">Rebuild docs</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

<li><a href="../index.html">Home</a></li>
<li><a href="../Downloads/index.html">Downloads</a></li>
<li><a href="../Tutorials/index.html">Tutorials</a></li>
<li><a href="../User_Manual/index.html">User Manual</a></li>







      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, IOAM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>